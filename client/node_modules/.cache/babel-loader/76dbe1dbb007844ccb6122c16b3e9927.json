{"ast":null,"code":"import Tone from \"tone\";\nexport default class Instrument {\n  constructor(id, oscType) {\n    this.updateInstrument = props => {\n      this.synth.oscillator._type = props.type;\n      this.synth.envelope.attack = props.envelope.attack;\n      this.synth.envelope.decay = props.envelope.decay;\n      this.synth.envelope.sustain = props.envelope.sustain;\n      this.synth.envelope.release = props.envelope.release;\n    };\n\n    this.activateInstrument = notes => {\n      // this.active ? console.log(`Deactivating synth ${this.id}`) : console.log(`Activating synth ${this.id}`)\n      // this.sequence = new Tone.Sequence(\n      //   (time, note) => {\n      //       this.synth.triggerAttackRelease(note, \"10hz\", time);\n      //     },\n      //     notes,\n      //     \"4n\"\n      //     );\n      // this.active ? this.sequence.stop() : this.sequence.start();\n      // this.active = !this.active;\n      if (this.active) {\n        console.log(\"Deactivating synth \".concat(this.id));\n        this.sequence.stop();\n      } else {}\n\n      this.active = !this.active;\n    };\n\n    this.id = id;\n    this.synth = new Tone.Synth(oscType).toMaster();\n    this.sequence = null;\n    this.active = false;\n  }\n\n}","map":{"version":3,"sources":["/home/fvrh/Documentos/week8/bbrss/src/Instrument.class.js"],"names":["Tone","Instrument","constructor","id","oscType","updateInstrument","props","synth","oscillator","_type","type","envelope","attack","decay","sustain","release","activateInstrument","notes","active","console","log","sequence","stop","Synth","toMaster"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,eAAe,MAAMC,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,CAACC,EAAD,EAAKC,OAAL,EAAc;AAAA,SAOzBC,gBAPyB,GAONC,KAAK,IAAI;AAC1B,WAAKC,KAAL,CAAWC,UAAX,CAAsBC,KAAtB,GAA8BH,KAAK,CAACI,IAApC;AACA,WAAKH,KAAL,CAAWI,QAAX,CAAoBC,MAApB,GAA6BN,KAAK,CAACK,QAAN,CAAeC,MAA5C;AACA,WAAKL,KAAL,CAAWI,QAAX,CAAoBE,KAApB,GAA4BP,KAAK,CAACK,QAAN,CAAeE,KAA3C;AACA,WAAKN,KAAL,CAAWI,QAAX,CAAoBG,OAApB,GAA8BR,KAAK,CAACK,QAAN,CAAeG,OAA7C;AACA,WAAKP,KAAL,CAAWI,QAAX,CAAoBI,OAApB,GAA8BT,KAAK,CAACK,QAAN,CAAeI,OAA7C;AACD,KAbwB;;AAAA,SAezBC,kBAfyB,GAeHC,KAAD,IAAW;AAC9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA,UAAG,KAAKC,MAAR,EAAgB;AACZC,QAAAA,OAAO,CAACC,GAAR,8BAAkC,KAAKjB,EAAvC;AACA,aAAKkB,QAAL,CAAcC,IAAd;AACH,OAHD,MAGO,CAEN;;AACD,WAAKJ,MAAL,GAAc,CAAC,KAAKA,MAApB;AACD,KArCwB;;AACvB,SAAKf,EAAL,GAAUA,EAAV;AACA,SAAKI,KAAL,GAAa,IAAIP,IAAI,CAACuB,KAAT,CAAenB,OAAf,EAAwBoB,QAAxB,EAAb;AACA,SAAKH,QAAL,GAAgB,IAAhB;AACA,SAAKH,MAAL,GAAc,KAAd;AACD;;AAN6B","sourcesContent":["import Tone from \"tone\";\n\nexport default class Instrument {\n  constructor(id, oscType) {\n    this.id = id;\n    this.synth = new Tone.Synth(oscType).toMaster();\n    this.sequence = null;\n    this.active = false;\n  }\n\n  updateInstrument = props => {\n    this.synth.oscillator._type = props.type;\n    this.synth.envelope.attack = props.envelope.attack;\n    this.synth.envelope.decay = props.envelope.decay;\n    this.synth.envelope.sustain = props.envelope.sustain;\n    this.synth.envelope.release = props.envelope.release;\n  };\n\n  activateInstrument = (notes) => {\n    // this.active ? console.log(`Deactivating synth ${this.id}`) : console.log(`Activating synth ${this.id}`)\n    \n    // this.sequence = new Tone.Sequence(\n    //   (time, note) => {\n    //       this.synth.triggerAttackRelease(note, \"10hz\", time);\n    //     },\n    //     notes,\n    //     \"4n\"\n    //     );\n        \n        \n    // this.active ? this.sequence.stop() : this.sequence.start();\n    // this.active = !this.active;\n\n    if(this.active) {\n        console.log(`Deactivating synth ${this.id}`);\n        this.sequence.stop();\n    } else {\n\n    }\n    this.active = !this.active;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}