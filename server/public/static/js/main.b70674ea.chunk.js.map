{"version":3,"sources":["classes/Instrument.class.js","classes/BasicSynth.class.js","classes/Sampler.class.js","classes/Song.class.js","components/ControlsBar.jsx","components/VisualizerComponent.jsx","tools/Services.js","components/AuthComponent.jsx","components/PianoRollComponent.jsx","components/SynthComponent.jsx","components/SequencerComponent.jsx","components/DrumSamplerComponent.jsx","components/CreatorComponent.jsx","components/LoadComponent.jsx","components/SaveComponent.jsx","App.js","serviceWorker.js","index.js"],"names":["Instrument","id","_this","this","Object","classCallCheck","activateInstrument","active","sequence","mute","updateSequence","notes","length","forEach","note","idx","remove","add","Tone","Sequence","time","instrument","triggerAttackRelease","Array","fill","BasicSynth","oscType","possibleConstructorReturn","getPrototypeOf","call","updateInstrument","props","oscillator","type","envelope","attack","decay","sustain","release","getSynthData","Synth","toMaster","Sampler","style","arguments","undefined","preload","sampler","C3","concat","C#3","D3","D#3","E3","F3","F#3","loaded","getSamplerData","Song","init","console","log","Transport","cancel","bpm","value","tempo","play","state","start","playInstruments","stop","updateTempo","newTempo","addBasicSynth","instruments","synths","push","getSynths","getSynth","updateSynth","updateSynthSequence","activateSynth","addSampler","samplers","getSamplers","getSampler","updateSampler","updateSamplerSequence","activateSampler","schedule","exportSongData","name","toConsumableArray","map","synth","ControlsBar","playButton","react_default","a","createElement","className","onClick","isPlaying","user","react_numeric_input_default","min","max","step","format","num","parse","strValue","replace","onChange","updateSongTempo","react_router_dom","to","newSong","logout","Component","OrbitControls","require","THREE","VisualizerComponent","epilepsyMode","toggleEpilepsyMode","setState","objectSpread","createSphere","sphereGeometry","sphereMaterial","color","wireframe","sphere","position","x","z","createCube","posX","posZ","cubeGeometry","cubeMaterial","cube","animateSphere","threshold","iteration","scale","set","rotation","y","renderer","render","scene","camera","animateCube","cubes","draw","bassValue","Math","abs","analyser","getValue","highValue","_","requestAnimationFrame","Analyser","controls","Master","connect","V_WIDTH","window","innerWidth","V_HEIGHT","innerHeight","setSize","document","querySelector","appendChild","domElement","cube1","cube2","cube3","cube4","_this2","Fragment","config","Services","login","credentials","service","post","then","response","data","signup","get","isLoggedIn","saveSong","songProperties","catch","err","getUserSongs","axios","create","baseURL","process","withCredentials","AuthComponent","errors","services","e","preventDefault","username","target","password","secondPassword","onSubmit","submit","htmlFor","toggleSignup","PianoRollComponent","noteScaleStr","table","colSpan","clear","initialScale","i","row","key","j","classNameString","noteAndScale","noteScaleArr","toNoteScaleArr","activateCell","element","getAttribute","newSequence","_this$toNoteScaleArr","_this$toNoteScaleArr2","slicedToArray","stepNote","stepScale","createTable","SynthComponent","oscTypes","envKey","newValue","newEnvelope","_this3","newOscillator","currentTarget","_this4","_this$state$envelope","colors","envelopeControls","react_switch_default","checked","updateOscillator","toUpperCase","lib_default","d","s","r","border","height","width","entries","dist","radius","updateEnvelope","strokeWidth","stroke","substring","PianoRollComponent_PianoRollComponent","n","keys","values","SequencerComponent","isArray","includes","indexOf","filter","el","DrumSamplerComponent","SequencerComponent_SequencerComponent","CreatorComponent","SynthComponent_SynthComponent","assign","DrumSamplerComponent_DrumSamplerComponent","addNewBasicSynth","addNewSampler","renderSynthsSection","renderSamplerSection","renderCreationSection","LoadComponent","songs","userSongs","song","loadSongData","SaveComponent","saveSongData","App","fetchUser","newUserSongs","_this5","_this6","history","_this7","songData","_this8","synthData","_synthData","samplerData","_this9","react_router","AuthComponent_AuthComponent","_this10","CreatorComponent_CreatorComponent","VisualizerComponent_VisualizerComponent","_this11","LoadComponent_LoadComponent","_this12","SaveComponent_SaveComponent","_this13","ControlsBar_ControlsBar","updateSongtempo","exact","path","renderAuthComponent","renderVisualizerComponent","renderCreatorComponent","renderLoadComponent","renderSaveComponent","React","withRouter","Boolean","location","hostname","match","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"ogBAEqBA,EACnB,SAAAA,EAAYC,GAAI,IAAAC,EAAAC,KAAAC,OAAAC,EAAA,EAAAD,CAAAD,KAAAH,GAAAG,KAQhBG,mBAAqB,WACfJ,EAAKK,OACHL,EAAKM,WACPN,EAAKM,SAASC,MAAO,GAGnBP,EAAKM,WACPN,EAAKM,SAASC,MAAO,GAGzBP,EAAKK,QAAUL,EAAKK,QAlBNJ,KAqBhBO,eAAiB,SAAAC,GACfT,EAAKS,MAAQA,EACTT,EAAKM,UAA6B,IAAjBG,EAAMC,OACzBD,EAAME,QAAQ,SAACC,EAAMC,GACnBb,EAAKM,SAASQ,OAAOD,GACrBb,EAAKM,SAASS,IAAIF,EAAKD,KAGzBZ,EAAKM,SAAW,IAAIU,IAAKC,SACvB,SAACC,EAAMN,GACDZ,EAAKmB,YAAYnB,EAAKmB,WAAWC,qBAAqBR,EAAM,OAAQM,IAE1ET,EACA,OAGFT,EAAKK,OAAsCL,EAAKM,SAASC,MAAO,EAAjDP,EAAKM,SAASC,MAAO,GApCtCN,KAAKF,GAAKA,EACVE,KAAKkB,WAAa,KAClBlB,KAAKK,SAAW,KAChBL,KAAKI,QAAS,EACdJ,KAAKQ,MAAQ,IAAIY,MAAM,IAAIC,KAAK,OCLfC,cACnB,SAAAA,EAAYxB,EAAIyB,GAAS,IAAAxB,EAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAD,KAAAsB,IACvBvB,EAAAE,OAAAuB,EAAA,EAAAvB,CAAAD,KAAAC,OAAAwB,EAAA,EAAAxB,CAAAqB,GAAAI,KAAA1B,KAAMF,KAIR6B,iBAAmB,SAAAC,GAMjB,OALA7B,EAAKmB,WAAWW,WAAWC,KAAOF,EAAMC,WAAWC,KACnD/B,EAAKmB,WAAWa,SAASC,OAASJ,EAAMG,SAASC,OACjDjC,EAAKmB,WAAWa,SAASE,MAAQL,EAAMG,SAASE,MAChDlC,EAAKmB,WAAWa,SAASG,QAAUN,EAAMG,SAASG,QAClDnC,EAAKmB,WAAWa,SAASI,QAAUP,EAAMG,SAASI,QAC3CpC,EAAKmB,YAXWnB,EAczBqC,aAAe,WACb,MAAO,CACL5B,MAAOT,EAAKS,MACZqB,WAAY,CAACN,QAASxB,EAAKmB,WAAWW,WAAWC,MACjDC,SAAU,CACRC,OAAQjC,EAAKmB,WAAWa,SAASC,OACjCC,MAAOlC,EAAKmB,WAAWa,SAASE,MAChCC,QAASnC,EAAKmB,WAAWa,SAASG,QAClCC,QAASpC,EAAKmB,WAAWa,SAASI,WApBtCpC,EAAKmB,WAAa,IAAIH,IAAKsB,MAAMd,GAASe,WAFnBvC,6BADaF,GCAnB0C,cACnB,SAAAA,EAAYzC,GAAqB,IAAAC,EAAjByC,EAAiBC,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAT,QAAS,OAAAxC,OAAAC,EAAA,EAAAD,CAAAD,KAAAuC,IAC/BxC,EAAAE,OAAAuB,EAAA,EAAAvB,CAAAD,KAAAC,OAAAwB,EAAA,EAAAxB,CAAAsC,GAAAb,KAAA1B,KAAMF,KAMR6B,iBAAmB,SAAAa,GACjBzC,EAAK4C,QAAQH,IARkBzC,EAWjC4C,QAAU,SAAAH,GACR,IAAII,EAAU,IAAI7B,IAAKwB,QACrB,CACEM,GAAE,GAAAC,OAAKN,EAAL,aACFO,MAAA,GAAAD,OAAUN,EAAV,cACAQ,GAAE,GAAAF,OAAKN,EAAL,cACFS,MAAA,GAAAH,OAAUN,EAAV,kBACAU,GAAE,GAAAJ,OAAKN,EAAL,cACFW,GAAE,GAAAL,OAAKN,EAAL,aACFY,MAAA,GAAAN,OAAUN,EAAV,cAEF,WACEzC,EAAKsD,QAAS,EACdtD,EAAKmB,WAAa0B,EAAQN,YAE5B,eA1B6BvC,EA8BjCuD,eAAiB,WACf,MAAO,CACL9C,MAAOT,EAAKS,MACZgC,MAAOzC,EAAKyC,QA/BdzC,EAAKyC,MAAQA,EACbzC,EAAKsD,QAAS,EACdtD,EAAK4C,QAAQH,GAJkBzC,6BADEF,GCuHtB0D,EArHb,SAAAA,IAAc,IAAAxD,EAAAC,KAAAC,OAAAC,EAAA,EAAAD,CAAAD,KAAAuD,GAAAvD,KASdwD,KAAO,WACLC,QAAQC,IAAI,QACZ3C,IAAK4C,UAAUC,SACf7C,IAAK4C,UAAUE,IAAIC,MAAQ/D,EAAKgE,OAZpB/D,KAedgE,KAAO,WACLP,QAAQC,IAAI,cACiB,YAAzB3C,IAAK4C,UAAUM,QACjBlD,IAAK4C,UAAUO,QACfnE,EAAKoE,oBAnBKnE,KAuBdoE,KAAO,WACLX,QAAQC,IAAI,WACiB,YAAzB3C,IAAK4C,UAAUM,OACjBlD,IAAK4C,UAAUS,QA1BLpE,KA8BdqE,YAAc,SAAAC,GACZvE,EAAKgE,MAAQO,EACbvD,IAAK4C,UAAUE,IAAIC,MAAQ/D,EAAKgE,OAhCpB/D,KAoCduE,cAAgB,SAACzE,GAA0B,IAAtBgC,EAAsBW,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAf,WAE1B,OADA1C,EAAKyE,YAAYC,OAAOC,KAAK,IAAIpD,EAAWxB,EAAIgC,IACzC/B,EAAK4E,aAtCA3E,KAyCd2E,UAAY,WACV,OAAO5E,EAAKyE,YAAYC,QA1CZzE,KA6Cd4E,SAAW,SAAAhE,GACT,OAAOb,EAAKyE,YAAYC,OAAO7D,IA9CnBZ,KAiDd6E,YAAc,SAACjE,EAAKgB,GAClB,OAAO7B,EAAKyE,YAAYC,OAAO7D,GAAKe,iBAAiBC,IAlDzC5B,KAqDd8E,oBAAsB,SAAClE,EAAKJ,GAC1BT,EAAKyE,YAAYC,OAAO7D,GAAKL,eAAeC,IAtDhCR,KAyDd+E,cAAgB,SAAAnE,GACdb,EAAKyE,YAAYC,OAAO7D,GAAKT,sBA1DjBH,KA8DdgF,WAAa,SAAClF,GAAwB,IAApB0C,EAAoBC,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAZ,QAExB,OADA1C,EAAKyE,YAAYS,SAASP,KAAK,IAAInC,EAAQzC,EAAI0C,IACxCzC,EAAKmF,eAhEAlF,KAmEdkF,YAAc,WACZ,OAAOnF,EAAKyE,YAAYS,UApEZjF,KAuEdmF,WAAa,SAAAvE,GACX,OAAOb,EAAKyE,YAAYS,SAASrE,IAxErBZ,KA2EdoF,cAAgB,SAACxE,EAAK4B,GACpB,OAAOzC,EAAKyE,YAAYS,SAASrE,GAAKe,iBAAiBa,IA5E3CxC,KA+EdqF,sBAAwB,SAACzE,EAAKJ,GAC5BT,EAAKyE,YAAYS,SAASrE,GAAKL,eAAeC,IAhFlCR,KAmFdsF,gBAAkB,SAAA1E,GAChBb,EAAKyE,YAAYS,SAASrE,GAAKT,sBApFnBH,KAuFdmE,gBAAkB,WAChBpE,EAAKyE,YAAYC,OACd3B,OAAO/C,EAAKyE,YAAYS,UACxBvE,QAAQ,SAAAQ,GACPH,IAAK4C,UAAU4B,SAAS,SAAAtE,GAClBC,GAAcA,EAAWb,UAC3Ba,EAAWb,SAAS6D,SAErB,UA/FKlE,KAmGdwF,eAAiB,SAACC,GAChB,IAAMhB,EAASxE,OAAAyF,EAAA,EAAAzF,CAAIF,EAAKyE,YAAYC,QAAQkB,IAAI,SAAAC,GAAK,OACnDA,EAAMxD,iBAEF6C,EAAWhF,OAAAyF,EAAA,EAAAzF,CAAIF,EAAKyE,YAAYS,UAAUU,IAAI,SAAA/C,GAAO,OACzDA,EAAQU,mBAEV,MAAO,CACLmC,KAAMA,EACN1B,MAAOhE,EAAKgE,MACZS,YAAa,CACXC,SACAQ,cA9GJjF,KAAK+D,MAAQ,IACb/D,KAAKwE,YAAc,CACjBC,OAAQ,GACRQ,SAAU,IAEZjF,KAAKwD,0BCNYqC,2LACV,IAAA9F,EAAAC,KACH8F,EACFC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,WAAWC,QAAS,kBAAMpG,EAAK6B,MAAMoC,SAAvD,QAYF,OARIhE,KAAK4B,MAAMwE,YACbN,EACEC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,WAAWC,QAAS,kBAAMpG,EAAK6B,MAAMwC,SAAvD,SAMApE,KAAK4B,MAAMyE,KAEXN,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,gBACJiG,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,iBACRiG,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CACEO,IAAK,GACLC,IAAK,IACLC,KAAM,EACN3C,MAAO9D,KAAK4B,MAAMmC,MAClB2C,OAAQ,SAAAC,GAAG,MAAI,QAAUA,GACzBC,MAAO,SAAAC,GAAQ,OAAIA,EAASC,QAAQ,QAAS,KAC7CC,SAAU,SAAAzC,GAAQ,OAAIvE,EAAK6B,MAAMoF,gBAAgB1C,OAGrDyB,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,cACNiG,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAMC,GAAG,YACPnB,EAAAC,EAAAC,cAAA,gCAEFF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAMC,GAAG,eACPnB,EAAAC,EAAAC,cAAA,sCAGJF,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,iBACLgG,EACDC,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMpG,EAAK6B,MAAMuF,YAAlC,OACApB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAMC,GAAG,SAAQnB,EAAAC,EAAAC,cAAA,uBACjBF,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CAAMC,GAAG,SAAQnB,EAAAC,EAAAC,cAAA,wBAEnBF,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,iBACNiG,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMpG,EAAK6B,MAAMwF,WAAlC,YAKCrB,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,wBAjDoBuH,+BCDnCC,EAAgBC,EAAQ,GAARA,CAAgCC,GAEjCC,cAInB,SAAAA,IAAc,IAAA1H,EAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAD,KAAAyH,IACZ1H,EAAAE,OAAAuB,EAAA,EAAAvB,CAAAD,KAAAC,OAAAwB,EAAA,EAAAxB,CAAAwH,GAAA/F,KAAA1B,QAJFiE,MAAQ,CACNyD,cAAc,GAEF3H,EAsDd4H,mBAAqB,WACnBlE,QAAQC,KAAK3D,EAAKkE,MAAMyD,cACxB3H,EAAK6H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKF,EAAKkE,MADV,CAEEyD,cAAe3H,EAAKkE,MAAMyD,iBA1DhB3H,EA8Dd+H,aAAe,WACb,IAIMC,EAAiB,IAAIP,iBAJZ,GACE,GACH,IAIRQ,EAAiB,IAAIR,oBAAwB,CACjDS,MAAO,SACPC,WAAW,IAGPC,EAAS,IAAIX,OAAWO,EAAgBC,GAO9C,OAHAG,EAAOC,SAASC,EAAI,EACpBF,EAAOC,SAASE,EAAI,EAEbH,GAjFKpI,EAoFdwI,WAAa,SAACC,EAAMC,GAClB,IAIMC,EAAe,IAAIlB,cAJX,GACC,GACD,IAIRmB,EAAe,IAAInB,oBAAwB,CAC/CS,MAAO,SACPC,WAAW,IAGPU,EAAO,IAAIpB,OAAWkB,EAAcC,GAO1C,OAHAC,EAAKR,SAASC,EAAIG,EAClBI,EAAKR,SAASE,EAAIG,EAEXG,GAvGK7I,EA0Gd8I,cAAgB,SAAC/E,EAAOgF,GAElB/I,EAAKkE,MAAMyD,aACT5D,EAFgB,IAES/D,EAAKgJ,UAAYD,IAAc,EAC1D/I,EAAKoI,OAAOa,MAAMC,IAAInF,EAAQ,IAAKA,EAAQ,IAAKA,EAAQ,KAExD/D,EAAKoI,OAAOa,MAAMC,IAAI,GAAI,GAAI,IAG5BnF,EARgB,GASlB/D,EAAKoI,OAAOa,MAAMC,IAAInF,EAAQ,IAAKA,EAAQ,IAAKA,EAAQ,KAExD/D,EAAKoI,OAAOa,MAAMC,IAAI,EAAG,EAAG,GAGhClJ,EAAKoI,OAAOe,SAASC,GAAK,GACtBpJ,EAAKqJ,UAAUrJ,EAAKqJ,SAASC,OAAOtJ,EAAKuJ,MAAOvJ,EAAKwJ,SA1H7CxJ,EA6HdyJ,YAAc,SAAC5I,EAAKkD,EAAOgF,GAErB/I,EAAKkE,MAAMyD,aACT5D,EAFgB,IAES/D,EAAKgJ,UAAYD,IAAc,EAC1D/I,EAAK0J,MAAM7I,GAAKoI,MAAMC,IAAInF,EAAQ,IAAKA,EAAQ,IAAKA,EAAQ,KAE5D/D,EAAK0J,MAAM7I,GAAKoI,MAAMC,IAAI,GAAI,GAAI,IAGhCnF,EARgB,GASlB/D,EAAK0J,MAAM7I,GAAKoI,MAAMC,IAAInF,EAAQ,IAAKA,EAAQ,IAAKA,EAAQ,KAE5D/D,EAAK0J,MAAM7I,GAAKoI,MAAMC,IAAI,GAAK,GAAK,IAIpCrI,EAAM,IAAM,EACdb,EAAK0J,MAAM7I,GAAKsI,SAASZ,GAAK,GAE9BvI,EAAK0J,MAAM7I,GAAKsI,SAASZ,GAAK,GAG5BvI,EAAKqJ,UAAUrJ,EAAKqJ,SAASC,OAAOtJ,EAAKuJ,MAAOvJ,EAAKwJ,SAnJ7CxJ,EAsJd2J,KAAO,WACL,IAAMC,EAAYC,KAAKC,IAAI9J,EAAK+J,SAASC,WAAW,IAC9CC,EAAYJ,KAAKC,IAAI9J,EAAK+J,SAASC,WAAW,KAEpDhK,EAAK8I,cAAcc,EADD,GAElB5J,EAAK0J,MAAM/I,QAAQ,SAACuJ,EAAGrJ,GAAJ,OACjBb,EAAKyJ,YAAY5I,EAAKoJ,EAHN,KAKlBjK,EAAKgJ,UALa,EAKYhJ,EAAKgJ,UAAY,EAAKhJ,EAAKgJ,YACzDmB,sBAAsBnK,EAAK2J,OA7J3B3J,EAAK+J,SAAW,IAAI/I,IAAKoJ,SAAS,MAAO,IACzCpK,EAAKuJ,MAAQ,KACbvJ,EAAKwJ,OAAS,KACdxJ,EAAKqJ,SAAW,KAChBrJ,EAAKoI,OAAS,KACdpI,EAAK0J,MAAQ,GACb1J,EAAKqK,SAAW7C,EAAQ,GAARA,CAAgCC,GAChDzH,EAAKgJ,UAAY,EACjBhI,IAAKsJ,OAAOC,QAAQvK,EAAK+J,UAVb/J,mFAcZ,IAAMwK,EAAUC,OAAOC,WACrBC,EAAWF,OAAOG,YAEpB3K,KAAKsJ,MAAQ,IAAI9B,QACjBxH,KAAKuJ,OAAS,IAAI/B,oBAAwB,GAAI+C,EAAUG,EAAU,EAAG,KACrE1K,KAAKuJ,OAAOnB,SAASa,IAAI,EAAG,IAAK,GACjCjJ,KAAKsJ,MAAMxI,IAAId,KAAKuJ,QACpBvJ,KAAKoJ,SAAW,IAAI5B,gBACpBxH,KAAKoJ,SAASwB,QAAQL,EAASG,GAC/BG,SACGC,cAAc,uBACdC,YAAY/K,KAAKoJ,SAAS4B,YAE7BhL,KAAKoK,SAAW,IAAI9C,EAActH,KAAKuJ,OAAQvJ,KAAKoJ,SAAS4B,YAE7D,IAAM7C,EAASnI,KAAK8H,eACpB9H,KAAKsJ,MAAMxI,IAAIqH,GACfnI,KAAKmI,OAASA,EAEd,IACM8C,EAAQjL,KAAKuI,YADJ,QAEfvI,KAAKsJ,MAAMxI,IAAImK,GACfjL,KAAKyJ,MAAM/E,KAAKuG,GAEhB,IAAMC,EAAQlL,KAAKuI,WALJ,QAMfvI,KAAKsJ,MAAMxI,IAAIoK,GACflL,KAAKyJ,MAAM/E,KAAKwG,GAEhB,IAAMC,EAAQnL,KAAKuI,YATJ,OAUfvI,KAAKsJ,MAAMxI,IAAIqK,GACfnL,KAAKyJ,MAAM/E,KAAKyG,GAEhB,IAAMC,EAAQpL,KAAKuI,WAbJ,OAcfvI,KAAKsJ,MAAMxI,IAAIsK,GACfpL,KAAKyJ,MAAM/E,KAAK0G,GAEhBpL,KAAKoJ,SAASC,OAAOrJ,KAAKsJ,MAAOtJ,KAAKuJ,QACtCvJ,KAAK0J,wCA+GE,IAAA2B,EAAArL,KACP,OACE+F,EAAAC,EAAAC,cAACF,EAAAC,EAAMsF,SAAP,KACEvF,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,sBACNiG,EAAAC,EAAAC,cAAA,UACEnG,GAAG,uBACHoG,UAAWlG,KAAKiE,MAAMyD,aAAe,SAAW,UAChDvB,QAAS,kBAAMkF,EAAK1D,uBAHtB,kBAKkB3H,KAAKiE,MAAMyD,aAAe,KAAO,gBA/KZL,+BCLjDE,EAAQ,KAAUgE,aAEGC,EACnB,SAAAA,IAAc,IAAAzL,EAAAC,KAAAC,OAAAC,EAAA,EAAAD,CAAAD,KAAAwL,GAAAxL,KAOdyL,MAAQ,SAAAC,GACN,OAAO3L,EAAK4L,QACTC,KAAK,cAAeF,GACpBG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAVjB/L,KAadgM,OAAS,SAAAN,GACP,OAAO3L,EAAK4L,QACTC,KAAK,eAAgBF,GACrBG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAhBjB/L,KAmBdoH,OAAS,WACP,OAAOrH,EAAK4L,QAAQM,IAAI,eAAeJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QApBrD/L,KAuBdkM,WAAa,WACX,OAAOnM,EAAK4L,QAAQM,IAAI,kBAAkBJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAxBxD/L,KA2BdmM,SAAW,SAAAC,GACT,OAAOrM,EAAK4L,QACTC,KAAK,eAAgBQ,GACrBP,KAAK,SAAAC,GAAQ,OAAIA,EAASC,OAC1BM,MAAM,SAAAC,GAAG,OAAIA,KA/BJtM,KAkCduM,aAAe,SAAAH,GACb,OAAOrM,EAAK4L,QACTM,IAAI,iBACJJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,OAC1BM,MAAM,SAAAC,GAAG,OAAIA,KArChBtM,KAAK2L,QAAUa,IAAMC,OAAO,CAC1BC,QAASC,+BACTC,iBAAiB,KCHFC,sBACnB,SAAAA,IAAc,IAAA9M,EAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAD,KAAA6M,IACZ9M,EAAAE,OAAAuB,EAAA,EAAAvB,CAAAD,KAAAC,OAAAwB,EAAA,EAAAxB,CAAA4M,GAAAnL,KAAA1B,QAIFiE,MAAQ,CACN+H,QAAQ,EACRc,OAAQ,MALR/M,EAAKgN,SAAW,IAAIvB,EAFRzL,8EAWZC,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEE+H,QAAShM,KAAKiE,MAAM+H,yCAIjBgB,GACLA,EAAEC,iBACF,IAAMC,EAAWF,EAAEG,OAAOD,SAASpJ,MAC7BsJ,EAAWJ,EAAEG,OAAOC,SAAStJ,MAC/B9D,KAAKiE,MAAM+H,QAEToB,IADmBJ,EAAEG,OAAOE,eAAevJ,OAE7C9D,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEE6I,OAAQ,2BAGZ9M,KAAK4B,MAAMoK,OAAO,CAAEkB,WAAUE,cAE9BpN,KAAK4B,MAAM6J,MAAM,CAAEyB,WAAUE,8CAIxB,IAAA/B,EAAArL,KACP,OACE+F,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,aACNiG,EAAAC,EAAAC,cAAA,QAAMqH,SAAU,SAAAN,GAAC,OAAI3B,EAAKkC,OAAOP,KAC/BjH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,SACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,SAAOuH,QAAQ,YAAf,aACAzH,EAAAC,EAAAC,cAAA,SAAOR,KAAK,WAAW3D,KAAK,UAE9BiE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,SAAOuH,QAAQ,YAAf,aACAzH,EAAAC,EAAAC,cAAA,SAAOR,KAAK,WAAW3D,KAAK,cAE7B9B,KAAKiE,MAAM+H,OACVjG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,SAAOuH,QAAQ,kBAAf,oBACAzH,EAAAC,EAAAC,cAAA,SAAOR,KAAK,iBAAiB3D,KAAK,cAElC,KACJiE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGE,QAAS,kBAAMkF,EAAKoC,iBAAvB,iBAEDzN,KAAKiE,MAAM6I,OACV/G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,YAAOjG,KAAKiE,MAAM6I,SAElB,KACJ/G,EAAAC,EAAAC,cAAA,cAASjG,KAAKiE,MAAM+H,OAAS,UAAY,mBA/DR3E,kECDrC7G,UAAQ,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,KAAM,MAEtDkN,6MACnBzJ,MAAQ,CACNnE,GAAIC,EAAK6B,MAAMhB,IACfP,SAAUN,EAAK6B,MAAMpB,qFAGRmN,GACb,MAAO,CACLA,EAAa7G,QAAQ,SAAU,IAC/B6G,EAAa7G,QAAQ,UAAW,2CAItB,IAAAuE,EAAArL,KAKR4N,EAAQ,GACZA,EAAMlJ,KACJqB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBAAqB2H,QAJ9B,IAKH9H,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAeC,QAAS,kBAAMkF,EAAKyC,UAArD,YAMN,IAAK,IAAI9E,EAbG,EAacA,EAAQ+E,EAAkB/E,IAClD,IAAK,IAAIgF,EAAI,EAAGA,EAbT,GAamBA,IAAK,CAC7B,IAAIC,EAAM,GACNxH,GAAO,EACXwH,EAAIvJ,KACFqB,EAAAC,EAAAC,cAAA,MAAIiI,IAAK1N,EAAMwN,GAAKhF,EAAO9C,UAAU,aAClC1F,EAAMwN,GAAKhF,IAIhB,IAAK,IAAImF,EAAI,EAAGA,EArBX,GAqBqBA,IAAK,CACzBA,EAAI,IAAM,IAAG1H,GAAQA,GACzB,IAAI2H,EAAkB3H,EAAO,mBAAqB,WAC9C4H,EAAerO,KAAKiE,MAAM5D,SAAS8N,GACvC,GAAIE,EAAc,CAChB,IAAIC,EAAetO,KAAKuO,eAAeF,GACnC7N,EAAMwN,KAAOM,EAAa,IAAMtF,KAAWsF,EAAa,KAC1DF,GAAmB,gBAIvBH,EAAIvJ,KACFqB,EAAAC,EAAAC,cAAA,MACEiI,IAAK1N,EAAMwN,GAAKhF,EAAQmF,EACxBjI,UAAWkI,EACXzN,KAAMH,EAAMwN,GACZhF,MAAOA,EACPvC,KAAM0H,EACNhI,QAAS,SAAA6G,GAAC,OAAI3B,EAAKmD,aAAaxB,OAItCY,EAAMlJ,KAAKqB,EAAAC,EAAAC,cAAA,MAAIiI,IAAK,OAAS1N,EAAMwN,GAAKhF,GAAQiF,IAGpD,OAAOL,uCAGIZ,GACX,IAAMyB,EAAUzB,EAAEG,OACZ1G,EAAOgI,EAAQC,aAAa,QAC5B/N,EAAO8N,EAAQC,aAAa,QAC5B1F,EAAQyF,EAAQC,aAAa,SAC7BC,EAAW1O,OAAAyF,EAAA,EAAAzF,CAAOD,KAAKiE,MAAM5D,UAKnC,GAAIsO,EAAYlI,GAAO,KAAAmI,EACS5O,KAAKuO,eAAeI,EAAYlI,IADzCoI,EAAA5O,OAAA6O,EAAA,EAAA7O,CAAA2O,EAAA,GACdG,EADcF,EAAA,GACJG,EADIH,EAAA,GAGnBF,EAAYlI,GADV9F,IAASoO,GAAY/F,IAAUgG,EACb,KAEArO,EAAOqI,OAG7B2F,EAAYlI,GAAQ9F,EAAOqI,EAG7BhJ,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGI5D,SAAUsO,IAEZ3O,KAAK4B,MAAMkD,oBAAoB6J,oCAKjC,IAAMA,EAAc,IAAIvN,MAAM,IAAIC,KAAK,MACvCrB,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGI5D,SAAUsO,IAEZ3O,KAAK4B,MAAMkD,oBAAoB6J,qCAKjC,OACE5I,EAAAC,EAAAC,cAAA,SAAOnG,GAAE,aAAAgD,OAAe9C,KAAK4B,MAAMhB,MACjCmF,EAAAC,EAAAC,cAAA,aAAQjG,KAAKiP,uBA9G2B5H,aCO3B6H,qNACnBC,SAAW,CAAC,WAAY,OAAQ,YAEhClL,MAAQ,CACNnE,GAAI,EACJ+B,WAAY,KACZE,SAAU,CACRC,OAAQ,KACRC,MAAO,GACPC,QAAS,GACTC,QAAS,GAEX3B,MAAO,IAAIY,MAAM,IAAIC,KAAK,MAC1BjB,QAAQ,sFAIRJ,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEnE,GAAIE,KAAK4B,MAAMhB,IACfiB,WAAY7B,KAAK4B,MAAMC,WACvBE,SAAU/B,KAAK4B,MAAMG,SACrB3B,OAAQJ,KAAK4B,MAAMxB,OACnBwF,MAAO5F,KAAK4B,MAAMV,WAClBV,MAAOR,KAAK4B,MAAMpB,gDAIP4O,EAAQC,GAAU,IAAAhE,EAAArL,KACzBsP,EAAcrP,OAAA4H,EAAA,EAAA5H,CAAA,GAAKD,KAAKiE,OAAQlC,SACtCuN,EAAYF,GAAUC,EACtBrP,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGIlC,SAAUuN,IAEZ,WACEjE,EAAKxG,yDAKMwK,GAAU,IAAAE,EAAAvP,KACnBwP,EAAgBvP,OAAA4H,EAAA,EAAA5H,CAAA,GAAKD,KAAKiE,OAAQpC,WACxC2N,EAAc1N,KAAOuN,EAASI,cAAc3L,MAC5C9D,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGIpC,WAAY2N,IAEd,WACED,EAAK1K,sDAMT7E,KAAK4B,MAAMiD,YAAY7E,KAAKiE,MAAMnE,GAAI,CACpCiC,SAAU/B,KAAKiE,MAAMlC,SACrBF,WAAY7B,KAAKiE,MAAMpC,yDAIPrB,GAClBR,KAAK4B,MAAMkD,oBAAoB9E,KAAKiE,MAAMnE,GAAIU,2CAI9CR,KAAK4B,MAAMmD,cAAc/E,KAAKiE,MAAMnE,IACpCE,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEE7D,QAASJ,KAAKiE,MAAM7D,2CAIf,IAAAsP,EAAA1P,KAAA2P,EACqC3P,KAAKiE,MAAMlC,SAA/CC,EADD2N,EACC3N,OAAQC,EADT0N,EACS1N,MAAOC,EADhByN,EACgBzN,QAASC,EADzBwN,EACyBxN,QAC1ByN,EAAS,CACb5N,OAAQ,UACRC,MAAO,UACPC,QAAS,UACTC,QAAS,WAEL0N,EAAmB,CAAE7N,SAAQC,QAAOC,UAASC,WACnD,OACE4D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAEbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBAEbH,EAAAC,EAAAC,cAAC6J,EAAA9J,EAAD,CAAQe,SAAU,kBAAM2I,EAAK3K,iBAAiBgL,QAAS/P,KAAKiE,MAAM7D,UAEpE2F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,SAAOuH,QAAQ,uBAAf,aACAzH,EAAAC,EAAAC,cAAA,UACEnG,GAAE,cAAAgD,OAAgB9C,KAAKiE,MAAMnE,IAC7B2F,KAAK,sBACLsB,SAAU,SAAAiG,GAAC,OAAI0C,EAAKM,iBAAiBhD,KAEpChN,KAAKmP,SAASxJ,IAAI,SAAApE,GAAO,OACxBwE,EAAAC,EAAAC,cAAA,UAAQiI,IAAK3M,EAASuC,MAAOvC,GAC1BA,EAAQ0O,oBAQnBlK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAACiK,EAAAlK,EAAD,CACEA,EAAGhG,KAAKiE,MAAMlC,SAASC,OACvBmO,EAAGnQ,KAAKiE,MAAMlC,SAASE,MACvBmO,EAAGpQ,KAAKiE,MAAMlC,SAASG,QACvBmO,EAAGrQ,KAAKiE,MAAMlC,SAASI,QACvBK,MAAO,CACL8N,OAAQ,iBACRC,OAAQ,QACRC,MAAO,WAGXzK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACZjG,OAAOwQ,QAAQZ,GAAkBlK,IAAI,SAAC7B,EAAOlD,GAC5C,OACEmF,EAAAC,EAAAC,cAAA,OAAKiI,IAAKpK,EAAM,GAAIoC,UAAU,gBAC5BH,EAAAC,EAAAC,cAACyK,EAAA,cAAD,CACEC,OAAQ,GACR7M,MAAOA,EAAM,GACbiD,SAAU,SAAAiG,GAAC,OAAI0C,EAAKkB,eAAe9M,EAAM,GAAIkJ,KAE7CjH,EAAAC,EAAAC,cAACyK,EAAA,cAAD,CAAeG,YAAa,IAC5B9K,EAAAC,EAAAC,cAACyK,EAAA,iBAAD,CACEI,OAAQlB,EAAO9L,EAAM,IACrB+M,YAAa,IAEf9K,EAAAC,EAAAC,cAACyK,EAAA,cAAD,CAAerP,KAAMuO,EAAO9L,EAAM,IAAKuM,EAAG,KAE5CtK,EAAAC,EAAAC,cAAA,aAAQnC,EAAM,GAAGiN,UAAU,EAAG,GAAGd,oBAQ3ClK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAC+K,EAAD,CACEpQ,IAAKZ,KAAKiE,MAAMnE,GAChBU,MAAOR,KAAK4B,MAAMpB,MAClBsE,oBAAqB,SAAAtE,GAAK,OAAIkP,EAAK5K,oBAAoBtE,eArJvB6G,cCTtC7G,UAAQ,CACZqC,GAAI,OACJE,MAAO,QACPC,GAAI,QACJC,MAAO,QACPC,GAAI,QACJC,GAAI,OACJC,MAAO,OACP8K,IAAK,SAAS+C,GACZ,OAAOhR,OAAOiR,KAAKlR,MAAMiR,IAE3BnN,MAAO,SAASmN,GACd,OAAOhR,OAAOkR,OAAOnR,MAAMiR,MAIVG,6MACnBnN,MAAQ,CACN5D,SAAUN,EAAK6B,MAAMpB,qFAGRmN,GACb,MAAO,CACLA,EAAa7G,QAAQ,SAAU,IAC/B6G,EAAa7G,QAAQ,UAAW,2CAItB,IAAAuE,EAAArL,KAKR4N,EAAQ,GACZA,EAAMlJ,KACJqB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,qBAAqB2H,QAJ9B,IAKH9H,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAeC,QAAS,kBAAMkF,EAAKyC,UAArD,YAMN,IAAK,IAAI9E,EAbG,EAacA,EAAQ+E,EAAkB/E,IAClD,IAAK,IAAIgF,EAAI,EAAGA,EAbT,EAamBA,IAAK,CAC7B,IAAIC,EAAM,GACNxH,GAAO,EACXwH,EAAIvJ,KACFqB,EAAAC,EAAAC,cAAA,MAAIiI,IAAK1N,EAAM0N,IAAIF,GAAI9H,UAAU,aAC9B1F,EAAMsD,MAAMkK,KAIjB,IAAK,IAAIG,EAAI,EAAGA,EArBX,GAqBqBA,IAAK,CACzBA,EAAI,IAAM,IAAG1H,GAAQA,GACzB,IAAI2H,EAAkB3H,EAAO,mBAAqB,aAE9CrF,MAAMiQ,QAAQrR,KAAKiE,MAAM5D,SAAS8N,KAClCnO,KAAKiE,MAAM5D,SAAS8N,KAAO3N,EAAM0N,IAAIF,IACtC5M,MAAMiQ,QAAQrR,KAAKiE,MAAM5D,SAAS8N,KACjCnO,KAAKiE,MAAM5D,SAAS8N,GAAGmD,SAAS9Q,EAAM0N,IAAIF,OAE5CI,GAAmB,gBAGrBH,EAAIvJ,KACFqB,EAAAC,EAAAC,cAAA,MACEiI,IAAK1N,EAAM0N,IAAIF,GAAKG,EACpBjI,UAAWkI,EACXzN,KAAMH,EAAM0N,IAAIF,GAChBvH,KAAM0H,EACNhI,QAAS,SAAA6G,GAAC,OAAI3B,EAAKmD,aAAaxB,OAItCY,EAAMlJ,KAAKqB,EAAAC,EAAAC,cAAA,MAAIiI,IAAK,OAAS1N,EAAM0N,IAAIF,GAAKhF,GAAQiF,IAGxD,OAAOL,uCAGIZ,GACX,IAAMyB,EAAUzB,EAAEG,OACZ1G,EAAOgI,EAAQC,aAAa,QAC5B/N,EAAO8N,EAAQC,aAAa,QAC5BC,EAAW1O,OAAAyF,EAAA,EAAAzF,CAAOD,KAAKiE,MAAM5D,UAEnC,GAAIe,MAAMiQ,QAAQ1C,EAAYlI,IAAQ,CACpC,GAAIkI,EAAYlI,GAAM6K,SAAS3Q,GAAO,CACpC,IAAMC,EAAM+N,EAAYlI,GAAM8K,QAAQ5Q,GACtCgO,EAAYlI,GAAM7F,GAAO,UAEzB+N,EAAYlI,GAAM/B,KAAK/D,GAEzBgO,EAAYlI,GAAQkI,EAAYlI,GAAM+K,OAAO,SAAAC,GAAE,OAAU,MAANA,IAClB,IAA7B9C,EAAYlI,GAAMhG,SACpBkO,EAAYlI,GAAQkI,EAAYlI,GAAM,SAGpC9F,IAASgO,EAAYlI,GACvBkI,EAAYlI,GAAQ,KAEpBkI,EAAYlI,GAAQkI,EAAYlI,GAC5B,CAACkI,EAAYlI,GAAO9F,GACpBA,EAIRX,KAAK4B,MAAMkD,oBAAoB6J,GAE/B3O,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEE5D,SAAUsO,qCAKZ,IAAMA,EAAc,IAAIvN,MAAM,IAAIC,KAAK,MACvCrB,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGI5D,SAAUsO,IAEZ3O,KAAK4B,MAAMkD,oBAAoB6J,qCAKjC,OACE5I,EAAAC,EAAAC,cAAA,SAAOnG,GAAE,qBAAAgD,OAAuB9C,KAAK4B,MAAMhB,MACzCmF,EAAAC,EAAAC,cAAA,aAAQjG,KAAKiP,uBAlH2B5H,aCd3BqK,qNACnBzN,MAAQ,CACNnE,GAAI,EACJ0C,MAAO,QACPpC,QAAQ,sFAIRJ,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEnE,GAAIE,KAAK4B,MAAMhB,IACfR,OAAQJ,KAAK4B,MAAMxB,gDAIToC,GACZxC,KAAK4B,MAAMwD,cAAcpF,KAAKiE,MAAMnE,GAAI0C,iDAGpBhC,GACpBR,KAAK4B,MAAMyD,sBAAsBrF,KAAKiE,MAAMnE,GAAIU,6CAIhDR,KAAK4B,MAAM0D,gBAAgBtF,KAAKiE,MAAMnE,IACtCE,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEE7D,QAASJ,KAAKiE,MAAM7D,2CAIf,IAAAiL,EAAArL,KACP,OACE+F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAEbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACfH,EAAAC,EAAAC,cAAC6J,EAAA9J,EAAD,CACEe,SAAU,kBAAMsE,EAAK/F,mBACrByK,QAAS/P,KAAKiE,MAAM7D,UAGtB2F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAC0L,EAAD,CACE/Q,IAAKZ,KAAKiE,MAAMnE,GAChBU,MAAOR,KAAK4B,MAAMpB,MAClBsE,oBAAqB,SAAAtE,GAAK,OAAI6K,EAAKhG,sBAAsB7E,eA7CnB6G,cCD7BuK,gMACG,IAAA7R,EAAAC,KAEpB,OADeA,KAAK4B,MAAM+C,YACZgB,IAAI,SAACC,EAAOhF,GAAR,OAChBmF,EAAAC,EAAAC,cAAC4L,EAAD5R,OAAA6R,OAAA,CACE5D,IAAKtN,EACLA,IAAKA,GACDgF,EAAM1E,WAHZ,CAIEV,MAAOoF,EAAMpF,MACbJ,OAAQwF,EAAMxF,OACdyE,YAAa,SAACjE,EAAKgB,GAAN,OAAgB7B,EAAK6B,MAAMiD,YAAYjE,EAAKgB,IACzDkD,oBAAqB,SAAClE,EAAKJ,GAAN,OACnBT,EAAK6B,MAAMkD,oBAAoBlE,EAAKJ,IAEtCuE,cAAe,kBAAMhF,EAAK6B,MAAMmD,cAAcnE,wDAK7B,IAAAyK,EAAArL,KAErB,OADiBA,KAAK4B,MAAMsD,cACZS,IAAI,SAAC/C,EAAShC,GAAV,OAClBmF,EAAAC,EAAAC,cAAC8L,EAAD9R,OAAA6R,OAAA,CACE5D,IAAKtN,EACLA,IAAKA,GACDgC,EAHN,CAIEpC,MAAOoC,EAAQpC,MACfJ,OAAQwC,EAAQxC,OAChBgF,cAAe,SAACxE,EAAK4B,GAAN,OAAgB6I,EAAKzJ,MAAMwD,cAAcxE,EAAK4B,IAC7D6C,sBAAuB,SAACzE,EAAKJ,GAAN,OACrB6K,EAAKzJ,MAAMyD,sBAAsBzE,EAAKJ,IAExC8E,gBAAiB,kBAAM+F,EAAKzJ,MAAM0D,gBAAgB1E,yDAKhC,IAAA2O,EAAAvP,KACtB,OACE+F,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,cACNiG,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,oBACNiG,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,eACNiG,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMoJ,EAAK3N,MAAMoQ,qBAAlC,aACAjM,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMoJ,EAAK3N,MAAMqQ,kBAAlC,gBAEDjS,KAAKkS,sBACLlS,KAAKmS,0DAOZ,OAAQpM,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,WACXE,KAAKoS,gCAtDgC/K,aCDzBgL,2LACV,IAAAtS,EAAAC,KACDsS,EAAQtS,KAAK4B,MAAM2Q,UACzB,OACExM,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,eACLwS,EAAM3M,IAAI,SAAA6M,GACT,OACEzM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,UAAKuM,EAAK/M,MACVM,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMpG,EAAK6B,MAAM6Q,aAAaD,KAA/C,mBAT6BnL,cCAtBqL,yLACZ1F,GACLA,EAAEC,iBACFjN,KAAK4B,MAAM+Q,aAAa3F,EAAEG,OAAO1H,KAAK3B,wCAE/B,IAAA/D,EAAAC,KACP,OACE+F,EAAAC,EAAAC,cAAA,OAAKnG,GAAG,eACNiG,EAAAC,EAAAC,cAAA,QAAMqH,SAAU,SAAAN,GAAC,OAAIjN,EAAKwN,OAAOP,KAC/BjH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAf,SACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,SAAOuH,QAAQ,QAAf,cACAzH,EAAAC,EAAAC,cAAA,SAAOR,KAAK,OAAO3D,KAAK,UAE1BiE,EAAAC,EAAAC,cAAA,+BAdiCoB,cCSrCuL,cACJ,SAAAA,IAAc,IAAA7S,EAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAD,KAAA4S,IACZ7S,EAAAE,OAAAuB,EAAA,EAAAvB,CAAAD,KAAAC,OAAAwB,EAAA,EAAAxB,CAAA2S,GAAAlR,KAAA1B,QAIFiE,MAAQ,CACNoC,KAAM,KACNmM,KAAM,IAAIjP,EACVgP,UAAW,GACXxO,MAAO,IACPqC,WAAW,GARXrG,EAAKgN,SAAW,IAAIvB,EAFRzL,mFAcZC,KAAK6S,2CAGAnH,GAAa,IAAAL,EAAArL,KAClBA,KAAK+M,SAASf,OAAON,GAAaG,KAAK,SAAAE,GACrCV,EAAKzD,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKoL,EAAKpH,MADV,CAEEoC,KAAM0F,qCAKNL,GAAa,IAAA6D,EAAAvP,KACjBA,KAAK+M,SAAStB,MAAMC,GAAaG,KAAK,SAAAE,GACpC,IAAM1F,EAAO0F,EACbwD,EAAKxC,SAASR,eAAeV,KAAK,SAAAE,GAChC,IAAM+G,EAAe7S,OAAAyF,EAAA,EAAAzF,CAAIsP,EAAKtL,MAAMsO,WAAWzP,OAAOiJ,GACtDwD,EAAK3H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKsP,EAAKtL,MADV,CAEEoC,KAAMA,EACNkM,UAAWO,0CAMV,IAAApD,EAAA1P,KACPA,KAAK+M,SAAS3F,SAASyE,KAAK,SAAAE,GAC1B2D,EAAK9H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKyP,EAAKzL,MADV,CAEEoC,KAAM,8CAKA,IAAA0M,EAAA/S,KACVA,KAAK+M,SACFb,aACAL,KAAK,SAAAE,GACJ,IAAM1F,EAAO0F,EACbgH,EAAKhG,SAASR,eAAeV,KAAK,SAAAE,GAChC,IAAM+G,EAAe7S,OAAAyF,EAAA,EAAAzF,CAAI8S,EAAK9O,MAAMsO,WAAWzP,OAAOiJ,GACtDgH,EAAKnL,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACK8S,EAAK9O,MADV,CAEEoC,KAAMA,EACNkM,UAAWO,SAIhBzG,MAAM,SAAAC,GACLyG,EAAKnL,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACK8S,EAAK9O,MADV,CAEEoC,KAAM,kDAME/B,GACd,IAAMP,EAAQO,EACdtE,KAAKiE,MAAMuO,KAAKnO,YAAYN,GAC5B/D,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEF,MAAOA,oCAKT/D,KAAKiE,MAAMuO,KAAKxO,OAChBhE,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEmC,WAAW,oCAKbpG,KAAKiE,MAAMuO,KAAKpO,OAChBpE,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEmC,WAAW,4CAIAX,GAAM,IAAAuN,EAAAhT,KACnByD,QAAQC,IAAI1D,KAAKiE,MAAMuO,KAAKhN,eAAeC,IAC3CzF,KAAK+M,SAASZ,SAASnM,KAAKiE,MAAMuO,KAAKhN,eAAeC,IAAOoG,KAAK,SAAAE,GAChEiH,EAAKH,YACLG,EAAKpR,MAAMqR,QAAQvO,KAAK,qDAIb,IAAAwO,EAAAlT,KACbA,KAAK+M,SAASR,eAAeV,KAAK,SAAAE,GAChC,IAAM+G,EAAe7S,OAAAyF,EAAA,EAAAzF,CAAIiT,EAAKjP,MAAMsO,WAAWzP,OAAOiJ,GACtDmH,EAAKtL,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKiT,EAAKjP,MADV,CAEEsO,UAAWO,yCAMf9S,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGIuO,KAAM,IAAIjP,EACVQ,MAAO,IACPqC,WAAW,IAEbpG,KAAK4B,MAAMqR,QAAQvO,KAAK,kDAIfyO,GAAU,IAAAC,EAAApT,KACrBA,KAAKiE,MAAMuO,KAAKpO,OAEhB,IAAM+C,EAAU,IAAI5D,EACpB4D,EAAQ9C,YAAY8O,EAASpP,OAEVoP,EAAS3O,YAAYC,OAC7B/D,QAAQ,SAAC2S,EAAWzS,GAAQ,IAAA0S,EAAArT,OAAA4H,EAAA,EAAA5H,CAAA,GACCoT,GAA9BxR,EAD6ByR,EAC7BzR,WAAYE,EADiBuR,EACjBvR,SAChBF,EAAWN,UACbM,EAAWC,KAAOD,EAAWN,eACtBM,EAAWN,SAGpB4F,EAAQ5C,cAAc3D,EAAKiB,EAAWC,MACtCqF,EAAQtC,YAAYjE,EAAK,CAAEiB,aAAYE,aACvCoF,EAAQrC,oBAAoBlE,EAAKyS,EAAU7S,SAGxB2S,EAAS3O,YAAYS,SAC7BvE,QAAQ,SAAC6S,EAAa3S,GACjCuG,EAAQnC,WAAWpE,EAAK2S,EAAY/Q,OACpC2E,EAAQ9B,sBAAsBzE,EAAK2S,EAAY/S,SAGjDR,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GAEOD,KAAKiE,MAFZ,CAGIuO,KAAMrL,EACNpD,MAAOoP,EAASpP,QAElB,WACEqP,EAAKxR,MAAMqR,QAAQvO,KAAK,kDAO5B,OAAO1E,KAAKiE,MAAMuO,KAAK7N,uDAIvB,IAAMwC,EAAOlH,OAAA4H,EAAA,EAAA5H,CAAA,GAAQD,KAAKiE,MAAMuO,MAChCrL,EAAQ3C,YAAcxE,KAAKiE,MAAMuO,KAAKjO,cACpCvE,KAAKiE,MAAMuO,KAAKhO,YAAY/D,QAE9BT,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEuO,KAAMrL,yCAIEvG,EAAKgB,GACf,IAAMuF,EAAOlH,OAAA4H,EAAA,EAAA5H,CAAA,GAAQD,KAAKiE,MAAMuO,MAChCrL,EAAQ3C,YAAcxE,KAAKiE,MAAMuO,KAAK3N,YAAYjE,EAAKgB,GACvD5B,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEuO,KAAMrL,iDAIUvG,EAAKJ,GACvBR,KAAKiE,MAAMuO,KAAK1N,oBAAoBlE,EAAKJ,yCAG7BI,GACZZ,KAAKiE,MAAMuO,KAAKzN,cAAcnE,yCAK9B,OAAOZ,KAAKiE,MAAMuO,KAAKtN,sDAIvB,IAAMiC,EAAOlH,OAAA4H,EAAA,EAAA5H,CAAA,GAAQD,KAAKiE,MAAMuO,MAChCrL,EAAQ3C,YAAcxE,KAAKiE,MAAMuO,KAAKxN,WACpChF,KAAKiE,MAAMuO,KAAKhO,YAAY/D,QAE9BT,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEuO,KAAMrL,2CAIIvG,EAAK4B,GACjB,IAAM2E,EAAOlH,OAAA4H,EAAA,EAAA5H,CAAA,GAAQD,KAAKiE,MAAMuO,MAChCrL,EAAQ3C,YAAcxE,KAAKiE,MAAMuO,KAAKpN,cAAcxE,EAAK4B,GACzDxC,KAAK4H,SAAL3H,OAAA4H,EAAA,EAAA5H,CAAA,GACKD,KAAKiE,MADV,CAEEuO,KAAMrL,mDAIYvG,EAAKJ,GACzBR,KAAKiE,MAAMuO,KAAKnN,sBAAsBzE,EAAKJ,2CAG7BI,GACdZ,KAAKiE,MAAMuO,KAAKlN,gBAAgB1E,iDAGZ,IAAA4S,EAAAxT,KACpB,OAAQA,KAAKiE,MAAMoC,KAMjBN,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAUvM,GAAG,aALbnB,EAAAC,EAAAC,cAACyN,EAAD,CACEjI,MAAO,SAAAC,GAAW,OAAI8H,EAAK/H,MAAMC,IACjCM,OAAQ,SAAAN,GAAW,OAAI8H,EAAKxH,OAAON,uDAOhB,IAAAiI,EAAA3T,KACvB,OAAQA,KAAKiE,MAAMoC,KAGjBN,EAAAC,EAAAC,cAAC2N,EAAD,CACEjP,UAAW,kBAAMgP,EAAKhP,aACtBO,YAAa,kBAAMyO,EAAKzO,eACxB8M,iBAAkB,kBAAM2B,EAAK3B,oBAC7BnN,YAAa,SAACjE,EAAKgB,GAAN,OAAgB+R,EAAK9O,YAAYjE,EAAKgB,IACnDkD,oBAAqB,SAAClE,EAAKJ,GAAN,OACnBmT,EAAK7O,oBAAoBlE,EAAKJ,IAEhCuE,cAAe,SAAAnE,GAAG,OAAI+S,EAAK5O,cAAcnE,IACzCqR,cAAe,kBAAM0B,EAAK1B,iBAC1B7M,cAAe,SAACxE,EAAK4B,GAAN,OAAgBmR,EAAKvO,cAAcxE,EAAK4B,IACvD6C,sBAAuB,SAACzE,EAAKJ,GAAN,OACrBmT,EAAKtO,sBAAsBzE,EAAKJ,IAElC8E,gBAAiB,SAAA1E,GAAG,OAAI+S,EAAKrO,gBAAgB1E,MAhB/CmF,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAUvM,GAAG,0DAsBf,OAAQlH,KAAKiE,MAAMoC,KAA6BN,EAAAC,EAAAC,cAAC4N,EAAD,MAAtB9N,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAUvM,GAAG,oDAGnB,IAAA4M,EAAA9T,KACpB,OAAQA,KAAKiE,MAAMoC,KAGjBN,EAAAC,EAAAC,cAAC8N,EAAD,CACExB,UAAWvS,KAAKiE,MAAMsO,UACtBE,aAAc,SAAAU,GAAQ,OAAIW,EAAKrB,aAAaU,MAJ9CpN,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAUvM,GAAG,oDASK,IAAA8M,EAAAhU,KACpB,OAAQA,KAAKiE,MAAMoC,KAGjBN,EAAAC,EAAAC,cAACgO,EAAD,CAAetB,aAAc,SAAAlN,GAAI,OAAIuO,EAAKxO,eAAeC,MAFzDM,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAUvM,GAAG,uCAMR,IAAAgN,EAAAlU,KACP,OACE+F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACkO,EAAD,CACE9N,KAAMrG,KAAKiE,MAAMoC,KACjBe,OAAQ,kBAAM8M,EAAK9M,UACnBhB,UAAWpG,KAAKiE,MAAMmC,UACtBrC,MAAO/D,KAAKiE,MAAMF,MAClBC,KAAM,kBAAMkQ,EAAKlQ,QACjBI,KAAM,kBAAM8P,EAAK9P,QACjB+C,QAAS,kBAAM+M,EAAK/M,WACpB3B,eAAgB,kBAAM0O,EAAK1O,kBAC3BwB,gBAAiB,SAAA1C,GAAQ,OAAI4P,EAAKE,gBAAgB9P,MAEpDyB,EAAAC,EAAAC,cAACwN,EAAA,EAAD,KACE1N,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CAAOY,OAAK,EAACC,KAAK,IAAIjL,OAAQ,kBAAM6K,EAAKK,yBACzCxO,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CACEa,KAAK,cACLjL,OAAQ,kBAAM6K,EAAKM,+BAErBzO,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CACEa,KAAK,WACLjL,OAAQ,WACN,OAAO6K,EAAKO,4BAGhB1O,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CACEa,KAAK,QACLjL,OAAQ,WACN,OAAO6K,EAAKQ,yBAGhB3O,EAAAC,EAAAC,cAACwN,EAAA,EAAD,CACEa,KAAK,QACLjL,OAAQ,WACN,OAAO6K,EAAKS,kCAnURC,IAAMvN,WA4UTwN,cAAWjC,GC5UNkC,QACW,cAA7BtK,OAAOuK,SAASC,UAEe,UAA7BxK,OAAOuK,SAASC,UAEhBxK,OAAOuK,SAASC,SAASC,MACvB,2DCXNC,IAAS7L,OAAOtD,EAAAC,EAAAC,cAACgB,EAAA,EAAD,KAAQlB,EAAAC,EAAAC,cAACkP,EAAD,OAAkBtK,SAASuK,eAAe,SD0H5D,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1J,KAAK,SAAA2J,GACjCA,EAAaC","file":"static/js/main.b70674ea.chunk.js","sourcesContent":["import Tone from \"tone\";\n\nexport default class Instrument {\n  constructor(id) {\n    this.id = id;\n    this.instrument = null;\n    this.sequence = null;\n    this.active = false;\n    this.notes = new Array(16).fill(null);\n  }\n\n  activateInstrument = () => {\n    if (this.active) {\n      if (this.sequence) {\n        this.sequence.mute = true;\n      }\n    } else {\n      if (this.sequence) {\n        this.sequence.mute = false;\n      }\n    }\n    this.active = !this.active;\n  };\n\n  updateSequence = notes => {\n    this.notes = notes;\n    if (this.sequence && notes.length !== 0) {\n      notes.forEach((note, idx) => {\n        this.sequence.remove(idx);\n        this.sequence.add(idx, note);\n      });\n    } else {\n      this.sequence = new Tone.Sequence(\n        (time, note) => {\n          if (this.instrument) this.instrument.triggerAttackRelease(note, \"10hz\", time);\n        },\n        notes,\n        \"16n\"\n      );\n    }\n    (!this.active) ? this.sequence.mute = true : this.sequence.mute = false;\n  };\n}\n","import Tone from \"tone\";\nimport Instrument from \"./Instrument.class\";\n\nexport default class BasicSynth extends Instrument {\n  constructor(id, oscType) {\n    super(id);\n    this.instrument = new Tone.Synth(oscType).toMaster();\n  }\n\n  updateInstrument = props => {\n    this.instrument.oscillator.type = props.oscillator.type;\n    this.instrument.envelope.attack = props.envelope.attack;\n    this.instrument.envelope.decay = props.envelope.decay;\n    this.instrument.envelope.sustain = props.envelope.sustain;\n    this.instrument.envelope.release = props.envelope.release;\n    return this.instrument;\n  };\n\n  getSynthData = () => {\n    return {\n      notes: this.notes,\n      oscillator: {oscType: this.instrument.oscillator.type},\n      envelope: {\n        attack: this.instrument.envelope.attack,\n        decay: this.instrument.envelope.decay,\n        sustain: this.instrument.envelope.sustain,\n        release: this.instrument.envelope.release\n      }\n    }\n  }\n}\n","import Tone from \"tone\";\nimport Instrument from \"./Instrument.class\";\n\nexport default class Sampler extends Instrument {\n  constructor(id, style = \"house\") {\n    super(id);\n    this.style = style;\n    this.loaded = false;\n    this.preload(style);\n  }\n\n  updateInstrument = style => {\n    this.preload(style);\n  };\n\n  preload = style => {\n    let sampler = new Tone.Sampler(\n      {\n        C3: `${style}/kick.wav`,\n        \"C#3\": `${style}/snare.wav`,\n        D3: `${style}/hihat.wav`,\n        \"D#3\": `${style}/openhihat.wav`,\n        E3: `${style}/crash.wav`,\n        F3: `${style}/ride.wav`,\n        \"F#3\": `${style}/perc.wav`\n      },\n      () => {\n        this.loaded = true;\n        this.instrument = sampler.toMaster();\n      },\n      \"./samples/\"\n    );\n  };\n\n  getSamplerData = () => {\n    return {\n      notes: this.notes,\n      style: this.style\n    }\n  }\n}\n","import Tone from \"tone\";\nimport BasicSynth from \"./BasicSynth.class.js\";\nimport Sampler from \"./Sampler.class.js\";\n\nclass Song {\n  constructor() {\n    this.tempo = 130;\n    this.instruments = {\n      synths: [],\n      samplers: []\n    };\n    this.init();\n  }\n\n  init = () => {\n    console.log('init');\n    Tone.Transport.cancel();\n    Tone.Transport.bpm.value = this.tempo;\n  };\n\n  play = () => {\n    console.log(\"playing...\");\n    if (Tone.Transport.state === \"stopped\") {\n      Tone.Transport.start();\n      this.playInstruments();\n    }\n  };\n\n  stop = () => {\n    console.log(\"stopped\");\n    if (Tone.Transport.state === \"started\") {\n      Tone.Transport.stop();\n    }\n  };\n\n  updateTempo = newTempo => {\n    this.tempo = newTempo;\n    Tone.Transport.bpm.value = this.tempo;\n  };\n\n  //SYNTHS\n  addBasicSynth = (id, type = \"triangle\") => {\n    this.instruments.synths.push(new BasicSynth(id, type));\n    return this.getSynths();\n  };\n\n  getSynths = () => {\n    return this.instruments.synths;\n  };\n\n  getSynth = idx => {\n    return this.instruments.synths[idx];\n  };\n\n  updateSynth = (idx, props) => {\n    return this.instruments.synths[idx].updateInstrument(props);\n  };\n\n  updateSynthSequence = (idx, notes) => {\n    this.instruments.synths[idx].updateSequence(notes);\n  };\n\n  activateSynth = idx => {\n    this.instruments.synths[idx].activateInstrument();\n  };\n\n  //SAMPLERS\n  addSampler = (id, style = \"house\") => {\n    this.instruments.samplers.push(new Sampler(id, style));\n    return this.getSamplers();\n  };\n\n  getSamplers = () => {\n    return this.instruments.samplers;\n  };\n\n  getSampler = idx => {\n    return this.instruments.samplers[idx];\n  };\n\n  updateSampler = (idx, style) => {\n    return this.instruments.samplers[idx].updateInstrument(style);\n  };\n\n  updateSamplerSequence = (idx, notes) => {\n    this.instruments.samplers[idx].updateSequence(notes);\n  };\n\n  activateSampler = idx => {\n    this.instruments.samplers[idx].activateInstrument();\n  };\n\n  playInstruments = () => {\n    this.instruments.synths\n      .concat(this.instruments.samplers)\n      .forEach(instrument => {\n        Tone.Transport.schedule(time => {\n          if (instrument && instrument.sequence) {\n            instrument.sequence.start();\n          }\n        }, \"0:0\");\n      });\n  };\n\n  exportSongData = (name) => {\n    const synths = [...this.instruments.synths].map(synth =>\n      synth.getSynthData()\n    );\n    const samplers = [...this.instruments.samplers].map(sampler =>\n      sampler.getSamplerData()\n    );\n    return {\n      name: name,\n      tempo: this.tempo,\n      instruments: {\n        synths,\n        samplers\n      }\n    };\n  };\n}\n\nexport default Song;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport NumericInput from 'react-numeric-input';\nimport \"./ControlsBar.css\";\n\nexport default class ControlsBar extends Component {\n  render() {\n    let playButton = (\n      <button className=\"play-btn\" onClick={() => this.props.play()}>\n        Play\n      </button>\n    );\n    if (this.props.isPlaying) {\n      playButton = (\n        <button className=\"stop-btn\" onClick={() => this.props.stop()}>\n          Stop\n        </button>\n      );\n    }\n\n    if (this.props.user) {\n      return (\n        <div id=\"controls-bar\">\n            <div id=\"tempo-wrapper\">\n            <NumericInput\n              min={70}\n              max={160}\n              step={1}\n              value={this.props.tempo}\n              format={num => 'BPM: ' + num}\n              parse={strValue => strValue.replace('BPM: ', \"\")}\n              onChange={newTempo => this.props.updateSongTempo(newTempo)}\n            />\n            </div>\n          <div id=\"navigation\">\n            <Link to=\"/creator\">\n              <button>CREATION MODE</button>\n            </Link>\n            <Link to=\"/visualizer\">\n              <button>VISUALIZATION MODE</button>\n            </Link>\n          </div>\n          <div id=\"song-controls\">\n            {playButton}\n            <button onClick={() => this.props.newSong()}>NEW</button>\n            <Link to=\"/load\"><button>LOAD</button></Link>\n            <Link to=\"/save\"><button>SAVE</button></Link>\n          </div>\n          <div id=\"auth-controls\">\n            <button onClick={() => this.props.logout()}>LOGOUT</button>\n          </div>\n        </div>\n      );\n    } else {\n      return <div id=\"controls-bar\"></div>\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./VisualizerComponent.css\";\nimport Tone from \"tone\";\nimport * as THREE from \"three\";\nconst OrbitControls = require(\"three-orbit-controls\")(THREE);\n\nexport default class VisualizerComponent extends Component {\n  state = {\n    epilepsyMode: false\n  };\n  constructor() {\n    super();\n    this.analyser = new Tone.Analyser(\"fft\", 16);\n    this.scene = null;\n    this.camera = null;\n    this.renderer = null;\n    this.sphere = null;\n    this.cubes = [];\n    this.controls = require(\"three-orbit-controls\")(THREE);\n    this.iteration = 0;\n    Tone.Master.connect(this.analyser);\n  }\n\n  componentDidMount() {\n    const V_WIDTH = window.innerWidth,\n      V_HEIGHT = window.innerHeight;\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(15, V_WIDTH / V_HEIGHT, 1, 1000);\n    this.camera.position.set(0, 600, 0);\n    this.scene.add(this.camera);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(V_WIDTH, V_HEIGHT);\n    document\n      .querySelector(\"#visualizer-wrapper\")\n      .appendChild(this.renderer.domElement);\n\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n    const sphere = this.createSphere();\n    this.scene.add(sphere);\n    this.sphere = sphere;\n\n    const offset = 50;\n    const cube1 = this.createCube(-offset, -offset);\n    this.scene.add(cube1);\n    this.cubes.push(cube1);\n\n    const cube2 = this.createCube(offset, -offset);\n    this.scene.add(cube2);\n    this.cubes.push(cube2);\n\n    const cube3 = this.createCube(-offset, offset);\n    this.scene.add(cube3);\n    this.cubes.push(cube3);\n\n    const cube4 = this.createCube(offset, offset);\n    this.scene.add(cube4);\n    this.cubes.push(cube4);\n\n    this.renderer.render(this.scene, this.camera);\n    this.draw();\n  }\n\n  toggleEpilepsyMode = () => {\n    console.log(!this.state.epilepsyMode);\n    this.setState({\n      ...this.state,\n      epilepsyMode: !this.state.epilepsyMode\n    });\n  };\n\n  createSphere = () => {\n    const RADIUS = 70;\n    const SEGMENTS = 16;\n    const RINGS = 16;\n\n    const sphereGeometry = new THREE.SphereGeometry(RADIUS, SEGMENTS, RINGS);\n\n    const sphereMaterial = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      wireframe: true\n    });\n\n    const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\n\n    // Move the Sphere back in Z so we\n    // can see it.\n    sphere.position.x = 0;\n    sphere.position.z = 0;\n\n    return sphere;\n  };\n\n  createCube = (posX, posZ) => {\n    const WIDTH = 10;\n    const HEIGHT = 10;\n    const DEPTH = 10;\n\n    const cubeGeometry = new THREE.BoxGeometry(WIDTH, HEIGHT, DEPTH);\n\n    const cubeMaterial = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      wireframe: true\n    });\n\n    const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\n    // Move the cube back in Z so we\n    // can see it.\n    cube.position.x = posX;\n    cube.position.z = posZ;\n\n    return cube;\n  };\n\n  animateSphere = (value, threshold) => {\n    const freqThreshold = 20;\n    if (this.state.epilepsyMode) {\n      if (value > freqThreshold && this.iteration % threshold !== 0) {\n        this.sphere.scale.set(value / 500, value / 500, value / 500);\n      } else {\n        this.sphere.scale.set(16, 16, 16);\n      }\n    } else {\n      if (value > freqThreshold) {\n        this.sphere.scale.set(value / 500, value / 500, value / 500);\n      } else {\n        this.sphere.scale.set(1, 1, 1);\n      }\n    }\n    this.sphere.rotation.y += 0.1;\n    if (this.renderer) this.renderer.render(this.scene, this.camera);\n  };\n\n  animateCube = (idx, value, threshold) => {\n    const freqThreshold = 10;\n    if (this.state.epilepsyMode) {\n      if (value > freqThreshold && this.iteration % threshold !== 0) {\n        this.cubes[idx].scale.set(value / 100, value / 100, value / 100);\n      } else {\n        this.cubes[idx].scale.set(16, 16, 16);\n      }\n    } else {\n      if (value > freqThreshold) {\n        this.cubes[idx].scale.set(value / 100, value / 100, value / 100);\n      } else {\n        this.cubes[idx].scale.set(0.1, 0.1, 0.1);\n      }\n    }\n\n    if (idx % 2 === 0) {\n      this.cubes[idx].rotation.z += 0.1;\n    } else {\n      this.cubes[idx].rotation.z -= 0.1;\n    }\n\n    if (this.renderer) this.renderer.render(this.scene, this.camera);\n  };\n\n  draw = () => {\n    const bassValue = Math.abs(this.analyser.getValue()[0]);\n    const highValue = Math.abs(this.analyser.getValue()[15]);\n    const threshold = 8;\n    this.animateSphere(bassValue, threshold);\n    this.cubes.forEach((_, idx) =>\n      this.animateCube(idx, highValue, threshold)\n    );\n    this.iteration > threshold ? (this.iteration = 1) : this.iteration++;\n    requestAnimationFrame(this.draw);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div id=\"visualizer-wrapper\">\n          <button\n            id=\"epilepsy-mode-button\"\n            className={this.state.epilepsyMode ? \"btn-on\" : \"btn-off\"}\n            onClick={() => this.toggleEpilepsyMode()}\n          >\n            EPILEPSY MODE: {this.state.epilepsyMode ? \"ON\" : \"OFF\"}\n          </button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import axios from \"axios\";\nrequire(\"dotenv\").config();\n\nexport default class Services {\n  constructor() {\n    this.service = axios.create({\n      baseURL: process.env.REACT_APP_URL,\n      withCredentials: true\n    });\n  }\n\n  login = credentials => {\n    return this.service\n      .post(\"/auth/login\", credentials)\n      .then(response => response.data);\n  };\n\n  signup = credentials => {\n    return this.service\n      .post(\"/auth/signup\", credentials)\n      .then(response => response.data);\n  };\n\n  logout = () => {\n    return this.service.get(\"auth/logout\").then(response => response.data);\n  };\n\n  isLoggedIn = () => {\n    return this.service.get(\"/auth/loggedin\").then(response => response.data);\n  };\n\n  saveSong = songProperties => {\n    return this.service\n      .post(\"/song/create\", songProperties)\n      .then(response => response.data)\n      .catch(err => err);\n  };\n\n  getUserSongs = songProperties => {\n    return this.service\n      .get(\"/song/mySongs\")\n      .then(response => response.data)\n      .catch(err => err);\n  };\n}\n","import React, { Component } from \"react\";\nimport Services from \"../tools/Services\";\nimport \"./AuthComponent.css\";\n\nexport default class AuthComponent extends Component {\n  constructor() {\n    super();\n    this.services = new Services();\n  }\n\n  state = {\n    signup: false,\n    errors: null\n  };\n\n  toggleSignup() {\n    this.setState({\n      ...this.state,\n      signup: !this.state.signup\n    });\n  }\n\n  submit(e) {\n    e.preventDefault();\n    const username = e.target.username.value;\n    const password = e.target.password.value;\n    if (this.state.signup) {\n      const secondPassword = e.target.secondPassword.value;\n      if (password !== secondPassword) {\n        this.setState({\n          ...this.state,\n          errors: \"PASSWORDS DON'T MATCH\"\n        });\n      }\n      this.props.signup({ username, password });\n    } else {\n      this.props.login({ username, password });\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"auth-form\">\n        <form onSubmit={e => this.submit(e)}>\n          <div className=\"form-logo\">BBRSS</div>\n          <div className=\"input-group\">\n            <label htmlFor=\"username\">USERNAME:</label>\n            <input name=\"username\" type=\"text\" />\n          </div>\n          <div className=\"input-group\">\n            <label htmlFor=\"password\">PASSWORD:</label>\n            <input name=\"password\" type=\"password\" />\n          </div>\n          {this.state.signup ? (\n            <div className=\"input-group\">\n              <label htmlFor=\"secondPassword\">REPEAT PASSWORD:</label>\n              <input name=\"secondPassword\" type=\"password\" />\n            </div>\n          ) : null}\n          <div>\n            <a onClick={() => this.toggleSignup()}>NEW? SIGN UP</a>\n          </div>\n          {this.state.errors ? (\n            <div className=\"form-errors\">\n              <span>{this.state.errors}</span>\n            </div>\n          ) : null}\n          <button>{this.state.signup ? \"SIGN UP\" : \"LOG IN\"}</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./PianoRollComponent.css\";\n\nconst notes = [\"B\", \"A#\", \"A\", \"G#\", \"G\", \"F#\", \"F\", \"E\", \"D#\", \"D\", \"C#\", \"C\"];\n\nexport default class PianoRollComponent extends Component {\n  state = {\n    id: this.props.idx,\n    sequence: this.props.notes\n  };\n\n  toNoteScaleArr(noteScaleStr) {\n    return [\n      noteScaleStr.replace(/[0-9]/g, \"\"),\n      noteScaleStr.replace(/[^0-9]/g, \"\")\n    ];\n  }\n\n  createTable() {\n    const initialScale = 3,\n      toScale = 4,\n      rows = 12,\n      cols = 16;\n    let table = [];\n    table.push(\n      <tr>\n        <td className=\"sequencer-controls\" colSpan={cols}>\n          <button className=\"clear-button\" onClick={() => this.clear()}>\n            CLEAR\n          </button>\n        </td>\n      </tr>\n    );\n    for (let scale = toScale; scale > initialScale - 1; scale--) {\n      for (let i = 0; i < rows; i++) {\n        let row = [];\n        let step = true;\n        row.push(\n          <td key={notes[i] + scale} className=\"note-cell\">\n            {notes[i] + scale}\n          </td>\n        );\n\n        for (let j = 0; j < cols; j++) {\n          if (j % 4 === 0) step = !step;\n          let classNameString = step ? \"cell-bar--darken\" : \"cell-bar\";\n          let noteAndScale = this.state.sequence[j];\n          if (noteAndScale) {\n            let noteScaleArr = this.toNoteScaleArr(noteAndScale);\n            if (notes[i] === noteScaleArr[0] && scale === +noteScaleArr[1]) {\n              classNameString += \" cell-active\";\n            }\n          }\n\n          row.push(\n            <td\n              key={notes[i] + scale + j}\n              className={classNameString}\n              note={notes[i]}\n              scale={scale}\n              step={j}\n              onClick={e => this.activateCell(e)}\n            />\n          );\n        }\n        table.push(<tr key={\"row-\" + notes[i] + scale}>{row}</tr>);\n      }\n    }\n    return table;\n  }\n\n  activateCell(e) {\n    const element = e.target;\n    const step = element.getAttribute(\"step\");\n    const note = element.getAttribute(\"note\");\n    const scale = element.getAttribute(\"scale\");\n    const newSequence = [...this.state.sequence];\n\n    //If there is a note for this step, update to store new note,\n    //if note pressed is same as stored update to null,\n    //else store new note in step\n    if (newSequence[step]) {\n      const [stepNote, stepScale] = this.toNoteScaleArr(newSequence[step]);\n      if (note === stepNote && scale === stepScale) {\n        newSequence[step] = null;\n      } else {\n        newSequence[step] = note + scale;\n      }\n    } else {\n      newSequence[step] = note + scale;\n    }\n\n    this.setState(\n      {\n        ...this.state,\n        sequence: newSequence\n      },\n      this.props.updateSynthSequence(newSequence)\n    );\n  }\n\n  clear() {\n    const newSequence = new Array(16).fill(null);\n    this.setState(\n      {\n        ...this.state,\n        sequence: newSequence\n      },\n      this.props.updateSynthSequence(newSequence)\n    );\n  }\n\n  render() {\n    return (\n      <table id={`sequencer-${this.props.idx}`}>\n        <tbody>{this.createTable()}</tbody>\n      </table>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  CircularInput,\n  CircularTrack,\n  CircularProgress,\n  CircularThumb\n} from \"react-circular-input\";\nimport EnvelopeGraph from \"adsr-envelope-graph\";\nimport Switch from \"react-switch\";\nimport PianoRollComponent from \"./PianoRollComponent\";\nimport \"./SynthComponent.css\";\n\nexport default class SynthComponent extends Component {\n  oscTypes = [\"triangle\", \"sine\", \"square\"];\n\n  state = {\n    id: 0,\n    oscillator: null,\n    envelope: {\n      attack: 0.005,\n      decay: 0.1,\n      sustain: 0.3,\n      release: 1\n    },\n    notes: new Array(16).fill(null),\n    active: false\n  };\n\n  componentDidMount() {\n    this.setState({\n      ...this.state,\n      id: this.props.idx,\n      oscillator: this.props.oscillator,\n      envelope: this.props.envelope,\n      active: this.props.active,\n      synth: this.props.instrument,\n      notes: this.props.notes\n    });\n  }\n\n  updateEnvelope(envKey, newValue) {\n    const newEnvelope = { ...this.state }.envelope;\n    newEnvelope[envKey] = newValue;\n    this.setState(\n      {\n        ...this.state,\n        envelope: newEnvelope\n      },\n      () => {\n        this.updateSynth();\n      }\n    );\n  }\n\n  updateOscillator(newValue) {\n    const newOscillator = { ...this.state }.oscillator;\n    newOscillator.type = newValue.currentTarget.value;\n    this.setState(\n      {\n        ...this.state,\n        oscillator: newOscillator\n      },\n      () => {\n        this.updateSynth();\n      }\n    );\n  }\n\n  updateSynth() {\n    this.props.updateSynth(this.state.id, {\n      envelope: this.state.envelope,\n      oscillator: this.state.oscillator\n    });\n  }\n\n  updateSynthSequence(notes) {\n    this.props.updateSynthSequence(this.state.id, notes);\n  }\n\n  activateSynth() {\n    this.props.activateSynth(this.state.id);\n    this.setState({\n      ...this.state,\n      active: !this.state.active\n    });\n  }\n\n  render() {\n    const { attack, decay, sustain, release } = this.state.envelope;\n    const colors = {\n      attack: \"#ff40fc\",\n      decay: \"#fffc36\",\n      sustain: \"#00fbfe\",\n      release: \"#00f92f\"\n    };\n    const envelopeControls = { attack, decay, sustain, release };\n    return (\n      <div className=\"synth\">\n        {/* Oscillator controls*/}\n        <div className=\"oscillator-controls\">\n          <div className=\"activation-button\">\n            {/* Activate/Deactivate */}\n            <Switch onChange={() => this.activateSynth()} checked={this.state.active} />\n          </div>\n          <div className=\"oscillator-selector\">\n            <label htmlFor=\"oscillator-selector\">WAVE TYPE</label>\n            <select\n              id={`osc-select-${this.state.id}`}\n              name=\"oscillator-selector\"\n              onChange={e => this.updateOscillator(e)}\n            >\n              {this.oscTypes.map(oscType => (\n                <option key={oscType} value={oscType}>\n                  {oscType.toUpperCase()}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Envelope controls*/}\n        <div className=\"envelope-controls\">\n          <EnvelopeGraph\n            a={this.state.envelope.attack}\n            d={this.state.envelope.decay}\n            s={this.state.envelope.sustain}\n            r={this.state.envelope.release}\n            style={{\n              border: \"1px solid #fff\",\n              height: \"100px\",\n              width: \"300px\"\n            }}\n          />\n          <div className=\"envelope-knobs\">\n            {Object.entries(envelopeControls).map((value, idx) => {\n              return (\n                <div key={value[0]} className=\"knob-wrapper\">\n                  <CircularInput\n                    radius={35}\n                    value={value[1]}\n                    onChange={e => this.updateEnvelope(value[0], e)}\n                  >\n                    <CircularTrack strokeWidth={3} />\n                    <CircularProgress\n                      stroke={colors[value[0]]}\n                      strokeWidth={7}\n                    />\n                    <CircularThumb fill={colors[value[0]]} r={9} />\n                  </CircularInput>\n                  <label>{value[0].substring(0, 3).toUpperCase()}</label>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Sequencer */}\n        <div className=\"sequencer-wrapper\">\n          <PianoRollComponent\n            idx={this.state.id}\n            notes={this.props.notes}\n            updateSynthSequence={notes => this.updateSynthSequence(notes)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./SequencerComponent.css\";\n\nconst notes = {\n  C3: \"KICK\",\n  \"C#3\": \"SNARE\",\n  D3: \"HIHAT\",\n  \"D#3\": \"O.HAT\",\n  E3: \"CRASH\",\n  F3: \"RIDE\",\n  \"F#3\": \"PERC\",\n  key: function(n) {\n    return Object.keys(this)[n];\n  },\n  value: function(n) {\n    return Object.values(this)[n];\n  }\n};\n\nexport default class SequencerComponent extends Component {\n  state = {\n    sequence: this.props.notes\n  };\n\n  toNoteScaleArr(noteScaleStr) {\n    return [\n      noteScaleStr.replace(/[0-9]/g, \"\"),\n      noteScaleStr.replace(/[^0-9]/g, \"\")\n    ];\n  }\n\n  createTable() {\n    const initialScale = 3,\n      toScale = 3,\n      rows = 7,\n      cols = 16;\n    let table = [];\n    table.push(\n      <tr>\n        <td className=\"sequencer-controls\" colSpan={cols}>\n          <button className=\"clear-button\" onClick={() => this.clear()}>\n            CLEAR\n          </button>\n        </td>\n      </tr>\n    );\n    for (let scale = toScale; scale > initialScale - 1; scale--) {\n      for (let i = 0; i < rows; i++) {\n        let row = [];\n        let step = true;\n        row.push(\n          <td key={notes.key(i)} className=\"note-cell\">\n            {notes.value(i)}\n          </td>\n        );\n\n        for (let j = 0; j < cols; j++) {\n          if (j % 4 === 0) step = !step;\n          let classNameString = step ? \"cell-bar--darken\" : \"cell-bar\";\n          if (\n            (!Array.isArray(this.state.sequence[j]) &&\n              this.state.sequence[j] === notes.key(i)) ||\n            (Array.isArray(this.state.sequence[j]) &&\n              this.state.sequence[j].includes(notes.key(i)))\n          ) {\n            classNameString += \" cell-active\";\n          }\n\n          row.push(\n            <td\n              key={notes.key(i) + j}\n              className={classNameString}\n              note={notes.key(i)}\n              step={j}\n              onClick={e => this.activateCell(e)}\n            />\n          );\n        }\n        table.push(<tr key={\"row-\" + notes.key(i) + scale}>{row}</tr>);\n      }\n    }\n    return table;\n  }\n\n  activateCell(e) {\n    const element = e.target;\n    const step = element.getAttribute(\"step\");\n    const note = element.getAttribute(\"note\");\n    const newSequence = [...this.state.sequence];\n\n    if (Array.isArray(newSequence[step])) {\n      if (newSequence[step].includes(note)) {\n        const idx = newSequence[step].indexOf(note);\n        newSequence[step][idx] = null;\n      } else {\n        newSequence[step].push(note);\n      }\n      newSequence[step] = newSequence[step].filter(el => el != null);\n      if (newSequence[step].length === 1) {\n        newSequence[step] = newSequence[step][0];\n      }\n    } else {\n      if (note === newSequence[step]) {\n        newSequence[step] = null;\n      } else {\n        newSequence[step] = newSequence[step]\n          ? [newSequence[step], note]\n          : note;\n      }\n    }\n\n    this.props.updateSynthSequence(newSequence);\n\n    this.setState({\n      ...this.state,\n      sequence: newSequence\n    });\n  }\n\n  clear() {\n    const newSequence = new Array(16).fill(null);\n    this.setState(\n      {\n        ...this.state,\n        sequence: newSequence\n      },\n      this.props.updateSynthSequence(newSequence)\n    );\n  }\n\n  render() {\n    return (\n      <table id={`sampler-sequencer-${this.props.idx}`}>\n        <tbody>{this.createTable()}</tbody>\n      </table>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Switch from \"react-switch\";\nimport SequencerComponent from \"./SequencerComponent\";\nimport \"./DrumSamplerComponent.css\";\n\nexport default class DrumSamplerComponent extends Component {\n  state = {\n    id: 0,\n    style: \"house\", //default style\n    active: false\n  };\n\n  componentDidMount() {\n    this.setState({\n      ...this.state,\n      id: this.props.idx,\n      active: this.props.active\n    });\n  }\n\n  updateSampler(style) {\n    this.props.updateSampler(this.state.id, style);\n  }\n\n  updateSamplerSequence(notes) {\n    this.props.updateSamplerSequence(this.state.id, notes);\n  }\n\n  activateSampler() {\n    this.props.activateSampler(this.state.id);\n    this.setState({\n      ...this.state,\n      active: !this.state.active\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"sampler\">\n        {/* Activate/Deactivate */}\n        <div className=\"sampler-controls\">\n        <Switch\n          onChange={() => this.activateSampler()}\n          checked={this.state.active}\n        />\n        </div>\n        <div className=\"sequencer-wrapper\">\n          <SequencerComponent\n            idx={this.state.id}\n            notes={this.props.notes}\n            updateSynthSequence={notes => this.updateSamplerSequence(notes)}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport SynthComponent from \"./SynthComponent\";\nimport DrumSamplerComponent from \"./DrumSamplerComponent\";\n\nexport default class CreatorComponent extends Component {\n  renderSynthsSection() {\n    const synths = this.props.getSynths();\n    return synths.map((synth, idx) => (\n      <SynthComponent\n        key={idx}\n        idx={idx}\n        {...synth.instrument}\n        notes={synth.notes}\n        active={synth.active}\n        updateSynth={(idx, props) => this.props.updateSynth(idx, props)}\n        updateSynthSequence={(idx, notes) =>\n          this.props.updateSynthSequence(idx, notes)\n        }\n        activateSynth={() => this.props.activateSynth(idx)}\n      />\n    ));\n  }\n\n  renderSamplerSection() {\n    const samplers = this.props.getSamplers();\n    return samplers.map((sampler, idx) => (\n      <DrumSamplerComponent\n        key={idx}\n        idx={idx}\n        {...sampler}\n        notes={sampler.notes}\n        active={sampler.active}\n        updateSampler={(idx, style) => this.props.updateSampler(idx, style)}\n        updateSamplerSequence={(idx, notes) =>\n          this.props.updateSamplerSequence(idx, notes)\n        }\n        activateSampler={() => this.props.activateSampler(idx)}\n      />\n    ));\n  }\n\n  renderCreationSection() {\n    return (\n      <div id=\"create-app\">\n        <div id=\"instruments-rack\">\n          <div id=\"add-wrapper\">\n            <button onClick={() => this.props.addNewBasicSynth()}>Add Synth</button>\n            <button onClick={() => this.props.addNewSampler()}>Add Sampler</button>\n          </div>\n          {this.renderSynthsSection()}\n          {this.renderSamplerSection()}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (<div id=\"Creator\">\n        {this.renderCreationSection()}\n    </div>);\n  }\n}\n","import React, { Component } from \"react\";\nimport './LoadComponent.css';\n\nexport default class LoadComponent extends Component {\n  render() {\n    const songs = this.props.userSongs;\n    return (\n      <div id=\"load-screen\">\n        {songs.map(song => {\n          return (\n            <div className=\"song-item\">\n              <h3>{song.name}</h3>\n              <button onClick={() => this.props.loadSongData(song)}>LOAD</button>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./SaveComponent.css\";\n\nexport default class SaveComponent extends Component {\n  submit(e) {\n    e.preventDefault();\n    this.props.saveSongData(e.target.name.value);\n  }\n  render() {\n    return (\n      <div id=\"save-screen\">\n        <form onSubmit={e => this.submit(e)}>\n          <div className=\"form-logo\">BBRSS</div>\n          <div className=\"input-group\">\n            <label htmlFor=\"name\">SONG NAME:</label>\n            <input name=\"name\" type=\"text\" />\n          </div>\n          <button>SAVE</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Switch, Route, Redirect, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport Song from \"./classes/Song.class.js\";\nimport ControlsBar from \"./components/ControlsBar\";\nimport VisualizerComponent from \"./components/VisualizerComponent\";\nimport AuthComponent from \"./components/AuthComponent\";\nimport Services from \"./tools/Services\";\nimport CreatorComponent from \"./components/CreatorComponent\";\nimport LoadComponent from \"./components/LoadComponent\";\nimport SaveComponent from \"./components/SaveComponent\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.services = new Services();\n  }\n\n  state = {\n    user: null,\n    song: new Song(),\n    userSongs: [],\n    tempo: 130,\n    isPlaying: false\n  };\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  signup(credentials) {\n    this.services.signup(credentials).then(data => {\n      this.setState({\n        ...this.state,\n        user: data\n      });\n    });\n  }\n\n  login(credentials) {\n    this.services.login(credentials).then(data => {\n      const user = data;\n      this.services.getUserSongs().then(data => {\n        const newUserSongs = [...this.state.userSongs].concat(data);\n        this.setState({\n          ...this.state,\n          user: user,\n          userSongs: newUserSongs\n        });\n      });\n    });\n  }\n\n  logout() {\n    this.services.logout().then(data => {\n      this.setState({\n        ...this.state,\n        user: null\n      });\n    });\n  }\n\n  fetchUser() {\n    this.services\n      .isLoggedIn()\n      .then(data => {\n        const user = data;\n        this.services.getUserSongs().then(data => {\n          const newUserSongs = [...this.state.userSongs].concat(data);\n          this.setState({\n            ...this.state,\n            user: user,\n            userSongs: newUserSongs\n          });\n        });\n      })\n      .catch(err => {\n        this.setState({\n          ...this.state,\n          user: null\n        });\n      });\n  }\n\n  //SONG\n  updateSongtempo(newTempo) {\n    const tempo = newTempo;\n    this.state.song.updateTempo(tempo);\n    this.setState({\n      ...this.state,\n      tempo: tempo\n    });\n  }\n\n  play() {\n    this.state.song.play();\n    this.setState({\n      ...this.state,\n      isPlaying: true\n    });\n  }\n\n  stop() {\n    this.state.song.stop();\n    this.setState({\n      ...this.state,\n      isPlaying: false\n    });\n  }\n\n  exportSongData(name) {\n    console.log(this.state.song.exportSongData(name));\n    this.services.saveSong(this.state.song.exportSongData(name)).then(data => {\n      this.fetchUser();\n      this.props.history.push(\"/creator\");\n    });\n  }\n\n  getUserSongs() {\n    this.services.getUserSongs().then(data => {\n      const newUserSongs = [...this.state.userSongs].concat(data);\n      this.setState({\n        ...this.state,\n        userSongs: newUserSongs\n      });\n    });\n  }\n\n  newSong() {\n    this.setState(\n      {\n        ...this.state,\n        song: new Song(),\n        tempo: 130,\n        isPlaying: false\n      },\n      this.props.history.push(\"/creator\")\n    );\n  }\n\n  loadSongData(songData) {\n    this.state.song.stop();\n\n    const newSong = new Song();\n    newSong.updateTempo(songData.tempo);\n\n    const synthsData = songData.instruments.synths;\n    synthsData.forEach((synthData, idx) => {\n      const { oscillator, envelope } = { ...synthData };\n      if (oscillator.oscType) {\n        oscillator.type = oscillator.oscType;\n        delete oscillator.oscType;\n      }\n\n      newSong.addBasicSynth(idx, oscillator.type);\n      newSong.updateSynth(idx, { oscillator, envelope });\n      newSong.updateSynthSequence(idx, synthData.notes);\n    });\n\n    const samplersData = songData.instruments.samplers;\n    samplersData.forEach((samplerData, idx) => {\n      newSong.addSampler(idx, samplerData.style);\n      newSong.updateSamplerSequence(idx, samplerData.notes);\n    });\n\n    this.setState(\n      {\n        ...this.state,\n        song: newSong,\n        tempo: songData.tempo\n      },\n      () => {\n        this.props.history.push(\"/creator\");\n      }\n    );\n  }\n\n  //SYNTHS\n  getSynths() {\n    return this.state.song.getSynths();\n  }\n\n  addNewBasicSynth() {\n    const newSong = { ...this.state.song };\n    newSong.instruments = this.state.song.addBasicSynth(\n      this.state.song.instruments.length\n    );\n    this.setState({\n      ...this.state,\n      song: newSong\n    });\n  }\n\n  updateSynth(idx, props) {\n    const newSong = { ...this.state.song };\n    newSong.instruments = this.state.song.updateSynth(idx, props);\n    this.setState({\n      ...this.state,\n      song: newSong\n    });\n  }\n\n  updateSynthSequence(idx, notes) {\n    this.state.song.updateSynthSequence(idx, notes);\n  }\n\n  activateSynth(idx) {\n    this.state.song.activateSynth(idx);\n  }\n\n  //SAMPLER\n  getSamplers() {\n    return this.state.song.getSamplers();\n  }\n\n  addNewSampler() {\n    const newSong = { ...this.state.song };\n    newSong.instruments = this.state.song.addSampler(\n      this.state.song.instruments.length\n    );\n    this.setState({\n      ...this.state,\n      song: newSong\n    });\n  }\n\n  updateSampler(idx, style) {\n    const newSong = { ...this.state.song };\n    newSong.instruments = this.state.song.updateSampler(idx, style);\n    this.setState({\n      ...this.state,\n      song: newSong\n    });\n  }\n\n  updateSamplerSequence(idx, notes) {\n    this.state.song.updateSamplerSequence(idx, notes);\n  }\n\n  activateSampler(idx) {\n    this.state.song.activateSampler(idx);\n  }\n\n  renderAuthComponent() {\n    return !this.state.user ? (\n      <AuthComponent\n        login={credentials => this.login(credentials)}\n        signup={credentials => this.signup(credentials)}\n      />\n    ) : (\n      <Redirect to=\"/creator\" />\n    );\n  }\n\n  renderCreatorComponent() {\n    return !this.state.user ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <CreatorComponent\n        getSynths={() => this.getSynths()}\n        getSamplers={() => this.getSamplers()}\n        addNewBasicSynth={() => this.addNewBasicSynth()}\n        updateSynth={(idx, props) => this.updateSynth(idx, props)}\n        updateSynthSequence={(idx, notes) =>\n          this.updateSynthSequence(idx, notes)\n        }\n        activateSynth={idx => this.activateSynth(idx)}\n        addNewSampler={() => this.addNewSampler()}\n        updateSampler={(idx, style) => this.updateSampler(idx, style)}\n        updateSamplerSequence={(idx, notes) =>\n          this.updateSamplerSequence(idx, notes)\n        }\n        activateSampler={idx => this.activateSampler(idx)}\n      />\n    );\n  }\n\n  renderVisualizerComponent() {\n    return !this.state.user ? <Redirect to=\"/\" /> : <VisualizerComponent />;\n  }\n\n  renderLoadComponent() {\n    return !this.state.user ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <LoadComponent\n        userSongs={this.state.userSongs}\n        loadSongData={songData => this.loadSongData(songData)}\n      />\n    );\n  }\n\n  renderSaveComponent() {\n    return !this.state.user ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <SaveComponent saveSongData={name => this.exportSongData(name)} />\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <ControlsBar\n          user={this.state.user}\n          logout={() => this.logout()}\n          isPlaying={this.state.isPlaying}\n          tempo={this.state.tempo}\n          play={() => this.play()}\n          stop={() => this.stop()}\n          newSong={() => this.newSong()}\n          exportSongData={() => this.exportSongData()}\n          updateSongTempo={newTempo => this.updateSongtempo(newTempo)}\n        />\n        <Switch>\n          <Route exact path=\"/\" render={() => this.renderAuthComponent()} />\n          <Route\n            path=\"/visualizer\"\n            render={() => this.renderVisualizerComponent()}\n          />\n          <Route\n            path=\"/creator\"\n            render={() => {\n              return this.renderCreatorComponent();\n            }}\n          />\n          <Route\n            path=\"/load\"\n            render={() => {\n              return this.renderLoadComponent();\n            }}\n          />\n          <Route\n            path=\"/save\"\n            render={() => {\n              return this.renderSaveComponent();\n            }}\n          />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from \"react-router-dom\"\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}